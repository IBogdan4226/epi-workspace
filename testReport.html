<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Report</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <style>
        body{
            background-color: #F8F8F8;
        }
        div#title{
            background-color: white;
            border-bottom: #DDD 2px solid;
            text-align: center;
            line-height: 75px;
            font-family: sans-serif;
            font-size: 24px;
            color: #666;
        }
        #report-head .container{
            padding-top: 30px;
            padding-bottom: 30px;
        }
        div.panel{
            border: #DDD 1px solid;
            background-color: white;
            min-height: 200px;
        }
        div.panel.col{
            padding: 0;
            margin: 0 5px;
        }
        div.label{
            text-align: center;
            position: relative;
            top: -12px;
        }
        .label span{
            text-transform: uppercase;
            border-radius: 15px;
            padding: 2px 10px;
            border: #ddd 1px solid;
            background-color: white;
        }
        div[id$="-value"]{
            font-family: sans-serif;
            font-size: 32px;
            color: #666;
            text-align: center;
            top: 6px;
            position: relative;
        }
        div[id$="-icon"]{
            min-height: 100px;
            background-color: #F8F8F8;
            margin: 0;
            text-align: center;
            padding-top: 20px;
        }
        div[id$="-icon"] .fa{
            font-size: 50px;
        }
        div#no-fails-icon{
            background-color: lightcoral;
            border-color: lightcoral;
            color: white;
        }
        div#no-fails-label span{
            border-color: lightcoral;
        }
        div#no-successes-icon{
            background-color: forestgreen;
            border-color: forestgreen;
            color: white;
        }
        div#no-successes-label span{
            border-color: forestgreen;
        }

        h1{
            font-size: 32px;
        }
        /*------ tables -------*/
        table{
            width: 100%;
        }
        table thead{
            font-weight: bold;
        }
        table td{
            line-height: 40px;
        }
        table thead {
            background-color: lightsteelblue;
        }
        table tr td:first-child{
            min-width: 15px;
            text-align: center;
        }
        table .fa-check{
            color: forestgreen;
        }
        table .fa-times{
            color: lightcoral;
        }

        table td{
            text-align: center;
        }

        table td:nth-child(2){
            text-align: left;
        }

        p.counter{
            font-size: 20px;
            line-height: 40px;
        }

        table a:not([href]){
            color: #007bff!important;
            cursor: pointer;
        }

        /*------ failed tables -------*/
        table#failed-tests tbody tr{

        }
        .collapsed{
            display: none;
        }
        /*------ popup -------*/
        div#popup {
            position: fixed;
            height: 100%;
            width: 100%;
            left: 0;
            top: 0;
            z-index: 1;
            display: none;
            background-color: rgba(0, 0, 0, 0.5);
        }

        #popup .container{
            position: relative;
            top: 20%;
            max-height: 60%;
            overflow: auto;
            background-color: white;
        }

        #popup-title{
            line-height: 60px;
            background-color: lightgray;
            font-size: 24px;
        }

        #popup .row {
            padding: 5px 20px;
        }

        #popup h1{
            font-size: 30px;
        }

        #popup-content .container:not(:last-child){
            border-bottom: black solid 1px;
            margin-bottom: 40px;
        }

        .row.asserts {
            display: block;
        }

        /*------ RESPONSIVE ------*/
        @media only screen and (max-width: 1024px){
            div[id$="-value"]{
                font-size: 20px;
                top: -10px;
            }

            .label span{
                font-size: 12px;
            }

            h1{
                font-size: 28px;
            }

            div.panel{
                min-height: 100px;
            }

            div[id$="-icon"]{
                min-height: 50px;
                padding-top: 10px;
            }

            div[id$="-icon"] .fa{
                font-size: 25px;
            }

            table a{
                font-size: 12px;
            }

            table td{
                font-size: 12px;
            }

            p.counter{
                font-size: 16px;
            }
        }

    </style>
</head>
<body>
<div id="report">
    <div id="report-head">
        <div id="title">Test Runner Report (TRR)</div>
        <div class="container">
            <div class="row">
                <div id="no-suites" class="panel col">
                    <div id="no-suites-icon"><span class="fa fa-folder-open-o"></span></div>
                    <div id="no-suites-label" class="label"><span>Suits</span></div>
                    <div id="no-suites-value"></div>
                </div>
                <div id="no-tests" class="panel col">
                    <div id="no-tests-icon"><span class="fa fa-bolt"></span></div>
                    <div id="no-tests-label" class="label"><span>Runned / Total</span></div>
                    <div id="no-tests-value"><span id="runned"></span><small>/<span id="total"></span></small></div>
                </div>
                <div id="duration" class="panel col">
                    <div id="no-duration-icon"><span class="fa fa-clock-o"></span></div>
                    <div id="no-duration-label" class="label"><span>Duration</span></div>
                    <div id="no-duration-value"></div>
                </div>
                <div id="fails" class="panel col">
                    <div id="no-fails-icon"><span class="fa fa-times"></span></div>
                    <div id="no-fails-label" class="label"><span>Failed</span></div>
                    <div id="no-fails-value"></div>
                </div>
                <div id="successes" class="panel col">
                    <div id="no-successes-icon"><span class="fa fa-check"></span></div>
                    <div id="no-successes-label" class="label"><span>Success Rate</span></div>
                    <div id="no-successes-value"></div>
                </div>
            </div>
        </div>

    </div>
    <div id="report-main-content">
        <div class="container" id="failed-tests">
            <div class="row">
                <h1>Failed Tests</h1>
            </div>
            <div class="row">
                <table>
                    <thead>
                    <td>
                        <span class="fa fa-chevron-up" onclick="collapse('#failed-tests-table-body', event);"></span>
                    </td>
                    <td width="55%">Name</td>
                    <td width="15%">No. of cases</td>
                    <td width="15%">No. of messages</td>
                    <td width="10%">State</td>
                    <td width="2%"></td>
                    </thead>
                    <tbody id="failed-tests-table-body"></tbody>
                </table>
            </div>
        </div>
        <div id="passed-tests" class="container">
            <div class="row">
                <h1>Passed Tests</h1>
            </div>
            <div class="row">
                <table>
                    <thead>
                    <td>
                        <span class="fa fa-chevron-up" onclick="collapse('#passed-tests-table-body', event);"></span>
                    </td>
                    <td width="55%">Name</td>
                    <td width="15%">No. of cases</td>
                    <td width="15%">No. of messages</td>
                    <td width="10%">State</td>
                    <td width="2%"></td>
                    </thead>
                    <tbody id="passed-tests-table-body"></tbody>
                </table>
            </div>
        </div>

    </div>
</div>
<div id="popup" class="test-details" onclick="closeTestDetails(event)">
    <div class="container">
        <div id="popup-title" class="row"></div>
        <div id="popup-content" class="row"></div>
    </div>
</div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.slim.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
</script>
<script>
    function print(dataSource){
        //console.log(dataSource);
        window.dataSource = dataSource;
        populateReportHeader(dataSource);
        buildReportMainContent(dataSource);
    }

    function populateReportHeader(dataSource){
        $("#title").html("Test Report <span>[" + new Date(dataSource.endDate).toLocaleString("en-US")+"]</span>");
        $("#no-suites-value").text(dataSource.suites.length);
        $("#total").text(dataSource.count);
        $("#runned").text(dataSource.runned);
        $("#no-fails-value").text(dataSource.failed.length);
        let rate = ((dataSource.passed.length/dataSource.count)*100).toPrecision(4);
        $("#no-successes-value").text(`${rate}%`);
        let duration = dataSource.endDate-dataSource.startDate;
        duration = duration/1000;
        $("#no-duration-value").text(`${duration}s`);
    }

    function displayTests(dataSource, resultType){
        if(dataSource[resultType].length===0){
            //if no tests are found matching resultType them hide the entire area (table)
            $(`#${resultType}-tests`).css("display", "none");
            return;
        }

        let target = $(`#${resultType}-tests-table-body`);

        $(`#${resultType}-tests h1`).parent().append(`<p class="counter"> (${dataSource[resultType].length})</p>`);
        const limita = 50;
        for(let i=0; i<dataSource[resultType].length; i++){
            let test = dataSource[resultType][i];
            let detailsPairTable = `#passed-tests-${i}`;
            let testFileName = test.data.path;
            if(test.data.path.length>limita*1.5){
                testFileName = "..."+test.data.path.substr(test.data.path.length - limita);
            }
            target.append(
                `<tr>
                    <td><span class="fa ${test.result.pass ? 'fa-check' : 'fa-times'}"/></td>
                    <td><a onclick="displayTestDetails('${resultType}', '${i}');">${testFileName}</a></td>
                    <td>${test.result.asserts.length}</td>
                    <td>${test.result.messages.length}</td>
                    <td>${test.result.state}</td>
                    <td><a href="${test.data.path}"><span class="fa fa-file"></span></a></td>
                </tr>`);
        }
    }

    function buildReportMainContent(dataSource){
        displayTests(dataSource, "failed");
        displayTests(dataSource, "passed");
    }

    function collapse(target, event){
        $(target).toggleClass("collapsed");
        $(event.target).toggleClass("fa-chevron-up").toggleClass("fa-chevron-down");
    }

    function displayTestDetails(testType, index){
        let popupContainer = $("#popup-content");
        test = window.dataSource[testType][index];

        let pop_asserts = "";
        for(let i=0; i<test.result.asserts.length; i++){
            let message = test.result.asserts[i];
            if(typeof message !== "string"){
                if(typeof message === "object" && !Array.isArray(message) && typeof message.message !== "undefined"){
                    message = message.message;
                }else{
                    message = JSON.stringify(message);
                }
            }
            message = message.replace(new RegExp("\n", 'g'), "<br>");
            pop_asserts+=`<div>${message}</div>`;
        }

        if(pop_asserts.length === 0){
            popupContainer.append(`<div class='container'><div class='row'><h3>Test cases</h3></div><div class='row asserts'>No cases tested.</div></div>`);
        }else{
            popupContainer.append(`<div class='container'><div class='row'><h3>Test cases</h3></div><div class='row asserts'>${pop_asserts}</div></div>`);
        }

        let pop_console = "";
        for(let i=0; i<test.result.messages.length; i++){
            let message = test.result.messages[i];
            if(typeof message !== "string"){
                message = JSON.stringify(message);
            }
            message = message.replace(new RegExp("\n", 'g'), "<br>");
            pop_console+=`<div style="display: block;width: 100%;font-family: monospace;font-size: 16px;">${message}</div>`;
        }

        popupContainer.append(`<div class='container'><div class='row'><h3>Console messages</h3></div><div class='row'>${pop_console}</div></div>`);

        $("#popup-title").html(`<h1>Test ${test.data.name} details</h1>`);
        $("#popup").css("display", "block");
        //always scroll on top
		document.getElementById("popup-title").parentNode.scrollTop = 0;
    }

    function closeTestDetails(event){
        if($(event.target).attr("id") === "popup"){
            $("#popup").css("display", "none");
            $("#popup-content").html("");
        }
    }
</script>
<script>
print({"count":5,"suites":["/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests"],"passed":[{"__meta":{"conf":{"runs":1},"parent":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests","isDirectory":false},"data":{"name":"groupingTest.js","path":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests/groupingTest.js"},"result":{"state":"finished","pass":true,"executionTime":0,"runs":0,"asserts":[{"level":11,"type":"assert","timestamp":1647443676994,"message":"[Pass] message grouping test "}],"messages":["Logger not available, using console\n","Redefining require for node\n","VirtualMQ running in test environment\n","[TIR][INFO] Using the following options for launcher {\n  maxTries: 1,\n  rootFolder: '/tmp/testFolderCD9Qdx',\n  serverConfig: {},\n  domains: [ 'default', 'test1', 'test2', { name: 'vault', config: [Object] } ],\n  bdns: null,\n  validatorDID: null,\n  validators: null,\n  useWorker: false,\n  bricksLedgerConfig: null,\n  includeDefaultDomains: true,\n  contractBuildFilePath: null,\n  generateValidatorDID: false,\n  onPortAquired: null,\n  onBeforeServerStart: null,\n  storageFolder: '/tmp/testFolderCD9Qdx/external-volume'\n}\n","[TIR][INFO] Generated random port 27372\n","[TIR][INFO] TIR is checking if port 27372 is available. Please wait...\n","[TIR][INFO] Port 27372 is available\n","[TIR][INFO] Storing file 'apihub.json' at /tmp/testFolderCD9Qdx/external-volume/config... {\"host\":\"localhost\",\"port\":27372}\n","[TIR][INFO] Storing file 'default.json' at /tmp/testFolderCD9Qdx/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/testFolderCD9Qdx/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/testFolderCD9Qdx/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/testFolderCD9Qdx/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{}},\"enable\":[\"mq\"]}\n","[TIR][INFO] Using the following BDNS content for http://localhost:27372: {\n  default: {\n    replicas: [],\n    notifications: [ 'http://localhost:27372' ],\n    brickStorages: [ 'http://localhost:27372' ],\n    anchoringServices: [ 'http://localhost:27372' ],\n    contractServices: [ 'http://localhost:27372' ],\n    validators: []\n  },\n  test1: {\n    replicas: [],\n    notifications: [ 'http://localhost:27372' ],\n    brickStorages: [ 'http://localhost:27372' ],\n    anchoringServices: [ 'http://localhost:27372' ],\n    contractServices: [ 'http://localhost:27372' ],\n    validators: []\n  },\n  test2: {\n    replicas: [],\n    notifications: [ 'http://localhost:27372' ],\n    brickStorages: [ 'http://localhost:27372' ],\n    anchoringServices: [ 'http://localhost:27372' ],\n    contractServices: [ 'http://localhost:27372' ],\n    validators: []\n  },\n  vault: {\n    replicas: [],\n    notifications: [ 'http://localhost:27372' ],\n    brickStorages: [ 'http://localhost:27372' ],\n    anchoringServices: [ 'http://localhost:27372' ],\n    contractServices: [ 'http://localhost:27372' ],\n    validators: []\n  }\n}\n","[TIR][INFO] Storing file 'default.json' at /tmp/testFolderCD9Qdx/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:27372\"],\"brickStorages\":[\"http://localhost:27372\"],\"anchoringServices\":[\"http://localhost:27372\"],\"contractServices\":[\"http://localhost:27372\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/testFolderCD9Qdx/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:27372\"],\"brickStorages\":[\"http://localhost:27372\"],\"anchoringServices\":[\"http://localhost:27372\"],\"contractServices\":[\"http://localhost:27372\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/testFolderCD9Qdx/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:27372\"],\"brickStorages\":[\"http://localhost:27372\"],\"anchoringServices\":[\"http://localhost:27372\"],\"contractServices\":[\"http://localhost:27372\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/testFolderCD9Qdx/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:27372\"],\"brickStorages\":[\"http://localhost:27372\"],\"anchoringServices\":[\"http://localhost:27372\"],\"contractServices\":[\"http://localhost:27372\"],\"validators\":[]}\n","[TIR][INFO] Starting apihub instance... [ 27372, '/tmp/testFolderCD9Qdx' ]\n","Fix this: This could generate memory leaks. Fix it later\n","Trying to read the apihub.json file from the location pointed by PSK_CONFIG_LOCATION env variable.\n","Loading config for domain 'default'\n","Loading config for domain 'test1'\n","Loading config for domain 'test2'\n","Loading config for domain 'vault'\n","[API-HUB] Trying to listen on port 27372\n","Registering Logger middleware\n","[API-HUB] generic error middleware was loaded. This middleware will prevent any error to leak when sending a >=400 response to the client.\n","[API-HUB] Request API enhancements were set up.\n","Registering IframeHandler middleware\n","Using boot script for worker: /home/runner/work/epi-workspace/epi-workspace/privatesky/./psknode/bundles/nodeBoot.js\n","[API-HUB] Preparing to register middleware from path ./components/config\n","[API-HUB] Not able to find config for component called < config >. Excluding it from the active components list!\n","[API-HUB] Preparing to register middleware from path ./components/mqHub\n","Preparing to register mq endpoints for domain < vault > ... \n","Loading Local MQ Adapter for domain: vault\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n","Warning: Local MQ Adapter should be used only during development!\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n","Successfully register mq endpoints for domain < vault >.\n","[API-HUB] Preparing to register middleware from path ./components/enclave\n","[API-HUB] Preparing to register middleware from path ./components/secrets\n","[API-HUB] Preparing to register middleware from path ./components/channelManager\n","Failed to load module  zeromq  with error: Cannot find module 'zeromq'\nRequire stack:\n- /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js\n- /home/runner/work/epi-workspace/epi-workspace/epi-utils/tests/groupingTest.js\n","zeroMQ not available at this moment.\n","[API-HUB] Preparing to register middleware from path ./components/mqManager\n","[API-HUB] Preparing to register middleware from path ./components/keySsiNotifications\n","[API-HUB] Preparing to register middleware from path ./components/fileManager\n","[API-HUB] Preparing to register middleware from path ./components/bdns\n","[API-HUB] Preparing to register middleware from path ./components/bricking\n","[API-HUB] Preparing to register middleware from path ./components/anchoring\n","[API-HUB] Preparing to register middleware from path ./components/bricksFabric\n","[API-HUB] Preparing to register middleware from path ./components/contracts\n","[API-HUB] Preparing to register middleware from path dsu-wizard\n","[API-HUB] apihub.getServerConfig() method is deprecated, please use server.config to retrieve necessary info.\n","[API-HUB] apihub.getServerConfig() method is deprecated, please use server.config to retrieve necessary info.\n","Registering url /dsu-wizard/:domain/addFile/:transactionId post\n","Registering url /dsu-wizard/:domain/mount/:transactionId post\n","Registering url /dsu-wizard/:domain/setKeySSI/:transactionId post\n","Registering url /dsu-wizard/:domain/copy/:transactionId post\n","[API-HUB] Preparing to register middleware from path ./components/debugLogger\n","[API-HUB] apihub.getServerConfig() method is deprecated, please use server.config to retrieve necessary info.\n","[API-HUB] Preparing to register middleware from path ./components/staticServer\n","Message 5\n","Message 3\n","Message 1\n"]},"items":null},{"__meta":{"conf":{"runs":1},"parent":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests","isDirectory":false},"data":{"name":"validateSchemaTest.js","path":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests/validateSchemaTest.js"},"result":{"state":"finished","pass":true,"executionTime":0,"runs":0,"asserts":[{"level":11,"type":"assert","timestamp":1647443679191,"message":"[Pass] SchemaValidate test"}],"messages":["Logger not available, using console\n","Redefining require for node\n","Fix this: This could generate memory leaks. Fix it later\n"]},"items":null},{"__meta":{"conf":{"runs":1},"parent":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests","isDirectory":false},"data":{"name":"leafletUploadTest.js","path":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests/leafletUploadTest.js"},"result":{"state":"finished","pass":true,"executionTime":0,"runs":0,"asserts":[{"level":11,"type":"assert","timestamp":1647443774148,"message":"[Pass] ApiHub leaflet upload performance test"}],"messages":["Logger not available, using console\n","Redefining require for node\n","VirtualMQ running in test environment\n","Function already promisified\n","Function already promisified\n","New GTIN_SSI in domain:epi and bricksDomain:default\n","Error on put message  Error: Failed to load DSU(Unexpected end of JSON input)\n    at ErrorWrapper (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:35212:22)\n    at createOpenDSUErrorWrapper (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:35242:12)\n    at /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:38598:50\n    at defaultCallback (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:25223:13)\n    at /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:10808:53\n    at /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:13060:53\n    at /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:27958:24\n    at executeForSingleEntry (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:40135:51)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5) {\n  originalMessage: 'Unexpected end of JSON input',\n  previousError: Error: Failed to load brickMap(Unexpected end of JSON input)\n      at ErrorWrapper (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:35212:22)\n      at createOpenDSUErrorWrapper (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:35242:12)\n      at /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:10808:54\n      at /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:13060:53\n      at /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:27958:24\n      at executeForSingleEntry (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:40135:51)\n      at processTicksAndRejections (internal/process/task_queues.js:95:5) {\n    originalMessage: 'Unexpected end of JSON input',\n    previousError: Error: Failed to get versions for anchor MTda174fdDGYWQTJz2rL88YkW1gQaw1NJQ1FGxgHaYuhnix1umed5AeDtjFGTS6ZBKXDNSwtXgJQ8PG2fR(Unexpected end of JSON input)\n        at ErrorWrapper (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:35212:22)\n        at createOpenDSUErrorWrapper (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:35242:12)\n        at /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:13060:54\n        at /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:27958:24\n        at executeForSingleEntry (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:40135:51)\n        at processTicksAndRejections (internal/process/task_queues.js:95:5) {\n      originalMessage: 'Unexpected end of JSON input',\n      previousError: [Error],\n      debug_message: 'Failed to get versions for anchor MTda174fdDGYWQTJz2rL88YkW1gQaw1NJQ1FGxgHaYuhnix1umed5AeDtjFGTS6ZBKXDNSwtXgJQ8PG2fR',\n      debug_stack: 'Error: Unexpected end of JSON input\\n' +\n        '    at ErrorWrapper (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:35215:22)\\n' +\n        '    at createOpenDSUErrorWrapper (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:35242:12)\\n' +\n        '    at executeForSingleEntry (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:40135:52)\\n' +\n        '    at processTicksAndRejections (internal/process/task_queues.js:95:5)'\n    },\n    debug_message: 'Failed to load brickMap',\n    debug_stack: 'Error: Failed to get versions for anchor MTda174fdDGYWQTJz2rL88YkW1gQaw1NJQ1FGxgHaYuhnix1umed5AeDtjFGTS6ZBKXDNSwtXgJQ8PG2fR(Unexpected end of JSON input)\\n' +\n      '    at ErrorWrapper (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:35212:22)\\n' +\n      '    at createOpenDSUErrorWrapper (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:35242:12)\\n' +\n      '    at /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:13060:54\\n' +\n      '    at /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:27958:24\\n' +\n      '    at executeForSingleEntry (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:40135:51)\\n' +\n      '    at processTicksAndRejections (internal/process/task_queues.js:95:5)'\n  },\n  debug_message: 'Failed to load DSU',\n  debug_stack: 'Error: Failed to load brickMap(Unexpected end of JSON input)\\n' +\n    '    at ErrorWrapper (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:35212:22)\\n' +\n    '    at createOpenDSUErrorWrapper (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:35242:12)\\n' +\n    '    at /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:10808:54\\n' +\n    '    at /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:13060:53\\n' +\n    '    at /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:27958:24\\n' +\n    '    at executeForSingleEntry (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:40135:51)\\n' +\n    '    at processTicksAndRejections (internal/process/task_queues.js:95:5)'\n}\n"]},"items":null}],"failed":[{"__meta":{"conf":{"runs":1},"parent":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests","isDirectory":false},"data":{"name":"apihubAllMessagesTest.js","path":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests/apihubAllMessagesTest.js"},"result":{"state":"finished","pass":false,"executionTime":0,"runs":0,"asserts":[],"messages":["Logger not available, using console\n","Redefining require for node\n","VirtualMQ running in test environment\n","Logger not available, using console\n","Redefining require for node\n","VirtualMQ running in test environment\n","[TIR][INFO] Using the following options for launcher {\n  domains: [\n    { name: 'default', config: [Object] },\n    'test1',\n    'test2',\n    { name: 'vault', config: [Object] }\n  ],\n  serverConfig: {\n    activeComponents: [\n      'bdns',\n      'bricksLedger',\n      'bricksFabric',\n      'bricking',\n      'anchoring',\n      'epi-mapping-engine-results',\n      'mq'\n    ],\n    componentsConfig: { 'epi-mapping-engine-results': [Object] }\n  },\n  rootFolder: '/tmp/enclaveBuffering5080St6MWy',\n  maxTries: 100,\n  bdns: null,\n  validatorDID: null,\n  validators: null,\n  useWorker: false,\n  bricksLedgerConfig: null,\n  includeDefaultDomains: true,\n  contractBuildFilePath: null,\n  generateValidatorDID: false,\n  onPortAquired: null,\n  onBeforeServerStart: null,\n  storageFolder: '/tmp/enclaveBuffering5080St6MWy/external-volume'\n}\n","[TIR][INFO] Generated random port 44198\n","[TIR][INFO] TIR is checking if port 44198 is available. Please wait...\n","[TIR][INFO] Port 44198 is available\n","[TIR][INFO] Storing file 'apihub.json' at /tmp/enclaveBuffering5080St6MWy/external-volume/config... {\"activeComponents\":[\"bdns\",\"bricksLedger\",\"bricksFabric\",\"bricking\",\"anchoring\",\"epi-mapping-engine-results\",\"mq\"],\"componentsConfig\":{\"epi-mapping-engine-results\":{\"module\":\"/home/runner/work/epi-workspace/epi-workspace/epi-utils/\",\"function\":\"getEPIMappingEngineMessageResults\"}},\"host\":\"localhost\",\"port\":44198}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering5080St6MWy/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{\"enableBricksLedger\":false},\"commands\":{\"addAnchor\":\"anchor\"}},\"enable\":[\"mq\",\"enclave\"]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering5080St6MWy/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering5080St6MWy/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering5080St6MWy/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{}},\"enable\":[\"mq\"]}\n","[TIR][INFO] Using the following BDNS content for http://localhost:44198: {\n  default: {\n    replicas: [],\n    notifications: [ 'http://localhost:44198' ],\n    brickStorages: [ 'http://localhost:44198' ],\n    anchoringServices: [ 'http://localhost:44198' ],\n    contractServices: [ 'http://localhost:44198' ],\n    validators: []\n  },\n  test1: {\n    replicas: [],\n    notifications: [ 'http://localhost:44198' ],\n    brickStorages: [ 'http://localhost:44198' ],\n    anchoringServices: [ 'http://localhost:44198' ],\n    contractServices: [ 'http://localhost:44198' ],\n    validators: []\n  },\n  test2: {\n    replicas: [],\n    notifications: [ 'http://localhost:44198' ],\n    brickStorages: [ 'http://localhost:44198' ],\n    anchoringServices: [ 'http://localhost:44198' ],\n    contractServices: [ 'http://localhost:44198' ],\n    validators: []\n  },\n  vault: {\n    replicas: [],\n    notifications: [ 'http://localhost:44198' ],\n    brickStorages: [ 'http://localhost:44198' ],\n    anchoringServices: [ 'http://localhost:44198' ],\n    contractServices: [ 'http://localhost:44198' ],\n    validators: []\n  }\n}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering5080St6MWy/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:44198\"],\"brickStorages\":[\"http://localhost:44198\"],\"anchoringServices\":[\"http://localhost:44198\"],\"contractServices\":[\"http://localhost:44198\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering5080St6MWy/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:44198\"],\"brickStorages\":[\"http://localhost:44198\"],\"anchoringServices\":[\"http://localhost:44198\"],\"contractServices\":[\"http://localhost:44198\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering5080St6MWy/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:44198\"],\"brickStorages\":[\"http://localhost:44198\"],\"anchoringServices\":[\"http://localhost:44198\"],\"contractServices\":[\"http://localhost:44198\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering5080St6MWy/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:44198\"],\"brickStorages\":[\"http://localhost:44198\"],\"anchoringServices\":[\"http://localhost:44198\"],\"contractServices\":[\"http://localhost:44198\"],\"validators\":[]}\n","[TIR][INFO] Starting apihub instance... [ 44198, '/tmp/enclaveBuffering5080St6MWy' ]\n","Fix this: This could generate memory leaks. Fix it later\n","Trying to read the apihub.json file from the location pointed by PSK_CONFIG_LOCATION env variable.\n","Loading config for domain 'default'\n","Loading config for domain 'test1'\n","Loading config for domain 'test2'\n","Loading config for domain 'vault'\n","[API-HUB] Trying to listen on port 44198\n","Registering Logger middleware\n","[API-HUB] generic error middleware was loaded. This middleware will prevent any error to leak when sending a >=400 response to the client.\n","[API-HUB] Request API enhancements were set up.\n","Registering IframeHandler middleware\n","Using boot script for worker: /home/runner/work/epi-workspace/epi-workspace/privatesky/./psknode/bundles/nodeBoot.js\n","[API-HUB] Preparing to register middleware from path ./components/config\n","[API-HUB] Not able to find config for component called < bricksLedger >. Excluding it from the active components list!\n","[API-HUB] Preparing to register middleware from path ./components/bdns\n","[API-HUB] Preparing to register middleware from path ./components/bricksFabric\n","[API-HUB] Preparing to register middleware from path ./components/bricking\n","[API-HUB] Preparing to register middleware from path ./components/anchoring\n","[API-HUB] Preparing to register middleware from path /home/runner/work/epi-workspace/epi-workspace/epi-utils/\n","[API-HUB] Preparing to register middleware from path ./components/mqHub\n","Preparing to register mq endpoints for domain < default > ... \n","Loading Local MQ Adapter for domain: default\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n","Warning: Local MQ Adapter should be used only during development!\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n","Successfully register mq endpoints for domain < default >.\n","Preparing to register mq endpoints for domain < vault > ... \n","Loading Local MQ Adapter for domain: vault\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n","Warning: Local MQ Adapter should be used only during development!\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n","Successfully register mq endpoints for domain < vault >.\n","[TIR][INFO] Using the following options for launcher {\n  domains: [\n    { name: 'default', config: [Object] },\n    'test1',\n    'test2',\n    { name: 'vault', config: [Object] }\n  ],\n  serverConfig: {\n    activeComponents: [\n      'bdns',\n      'bricksLedger',\n      'bricksFabric',\n      'bricking',\n      'anchoring',\n      'epi-mapping-engine',\n      'epi-mapping-engine-results'\n    ],\n    componentsConfig: {\n      'epi-mapping-engine': [Object],\n      'epi-mapping-engine-results': [Object]\n    }\n  },\n  rootFolder: '/tmp/enclaveBuffering7831Ur5ZH9',\n  maxTries: 100,\n  bdns: null,\n  validatorDID: null,\n  validators: null,\n  useWorker: false,\n  bricksLedgerConfig: null,\n  includeDefaultDomains: true,\n  contractBuildFilePath: null,\n  generateValidatorDID: false,\n  onPortAquired: null,\n  onBeforeServerStart: null,\n  storageFolder: '/tmp/enclaveBuffering7831Ur5ZH9/external-volume'\n}\n","[TIR][INFO] Generated random port 21129\n","[TIR][INFO] TIR is checking if port 21129 is available. Please wait...\n","[TIR][INFO] Port 21129 is available\n","[TIR][INFO] Storing file 'apihub.json' at /tmp/enclaveBuffering7831Ur5ZH9/external-volume/config... {\"activeComponents\":[\"bdns\",\"bricksLedger\",\"bricksFabric\",\"bricking\",\"anchoring\",\"epi-mapping-engine\",\"epi-mapping-engine-results\"],\"componentsConfig\":{\"epi-mapping-engine\":{\"module\":\"/home/runner/work/epi-workspace/epi-workspace/epi-utils/\",\"function\":\"getEPIMappingEngineForAPIHUB\"},\"epi-mapping-engine-results\":{\"module\":\"/home/runner/work/epi-workspace/epi-workspace/epi-utils/\",\"function\":\"getEPIMappingEngineMessageResults\"}},\"host\":\"localhost\",\"port\":21129}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering7831Ur5ZH9/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{\"enableBricksLedger\":false},\"commands\":{\"addAnchor\":\"anchor\"}},\"messagesEndPoints\":[{\"endPointId\":\"endpoint\",\"endPointURL\":\"http://localhost:44198/mappingEngine/default/default/saveResult\"}]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering7831Ur5ZH9/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering7831Ur5ZH9/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering7831Ur5ZH9/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{}},\"enable\":[\"mq\"]}\n","[TIR][INFO] Using the following BDNS content for http://localhost:21129: {\n  default: {\n    replicas: [],\n    notifications: [ 'http://localhost:21129' ],\n    brickStorages: [ 'http://localhost:21129' ],\n    anchoringServices: [ 'http://localhost:21129' ],\n    contractServices: [ 'http://localhost:21129' ],\n    validators: []\n  },\n  test1: {\n    replicas: [],\n    notifications: [ 'http://localhost:21129' ],\n    brickStorages: [ 'http://localhost:21129' ],\n    anchoringServices: [ 'http://localhost:21129' ],\n    contractServices: [ 'http://localhost:21129' ],\n    validators: []\n  },\n  test2: {\n    replicas: [],\n    notifications: [ 'http://localhost:21129' ],\n    brickStorages: [ 'http://localhost:21129' ],\n    anchoringServices: [ 'http://localhost:21129' ],\n    contractServices: [ 'http://localhost:21129' ],\n    validators: []\n  },\n  vault: {\n    replicas: [],\n    notifications: [ 'http://localhost:21129' ],\n    brickStorages: [ 'http://localhost:21129' ],\n    anchoringServices: [ 'http://localhost:21129' ],\n    contractServices: [ 'http://localhost:21129' ],\n    validators: []\n  }\n}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering7831Ur5ZH9/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:21129\"],\"brickStorages\":[\"http://localhost:21129\"],\"anchoringServices\":[\"http://localhost:21129\"],\"contractServices\":[\"http://localhost:21129\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering7831Ur5ZH9/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:21129\"],\"brickStorages\":[\"http://localhost:21129\"],\"anchoringServices\":[\"http://localhost:21129\"],\"contractServices\":[\"http://localhost:21129\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering7831Ur5ZH9/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:21129\"],\"brickStorages\":[\"http://localhost:21129\"],\"anchoringServices\":[\"http://localhost:21129\"],\"contractServices\":[\"http://localhost:21129\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering7831Ur5ZH9/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:21129\"],\"brickStorages\":[\"http://localhost:21129\"],\"anchoringServices\":[\"http://localhost:21129\"],\"contractServices\":[\"http://localhost:21129\"],\"validators\":[]}\n","[TIR][INFO] Starting apihub instance... [ 21129, '/tmp/enclaveBuffering7831Ur5ZH9' ]\n","Fix this: This could generate memory leaks. Fix it later\n","Trying to read the apihub.json file from the location pointed by PSK_CONFIG_LOCATION env variable.\n","Loading config for domain 'default'\n","Loading config for domain 'test1'\n","Loading config for domain 'test2'\n","Loading config for domain 'vault'\n","[API-HUB] Trying to listen on port 21129\n","Registering Logger middleware\n","[API-HUB] generic error middleware was loaded. This middleware will prevent any error to leak when sending a >=400 response to the client.\n","[API-HUB] Request API enhancements were set up.\n","Registering IframeHandler middleware\n","Using boot script for worker: /home/runner/work/epi-workspace/epi-workspace/privatesky/./psknode/bundles/nodeBoot.js\n","[API-HUB] Preparing to register middleware from path ./components/config\n","[API-HUB] Not able to find config for component called < bricksLedger >. Excluding it from the active components list!\n","[API-HUB] Preparing to register middleware from path ./components/bdns\n","[API-HUB] Preparing to register middleware from path ./components/bricksFabric\n","[API-HUB] Preparing to register middleware from path ./components/bricking\n","[API-HUB] Preparing to register middleware from path ./components/anchoring\n","[API-HUB] Preparing to register middleware from path /home/runner/work/epi-workspace/epi-workspace/epi-utils/\n","[API-HUB] Preparing to register middleware from path /home/runner/work/epi-workspace/epi-workspace/epi-utils/\n","127.0.0.1:21129 - [2022-03-16T15:14:32.785Z] GET:/bdns 200 2.489ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.805Z] PUT:/bricking/default/put-brick 201 4.45ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.821Z] PUT:/bricking/default/put-brick 201 1.221ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.834Z] GET:/anchor/default/get-last-version/4K8K3xZfdsFugXRpFp9wP8ZEsPwoUSdN7QceMrPfT9tL4LrRNkQ4ettVgAoERcmdmBKX6dQ1WEYmLMMEdHRJWRQFt7e6iJEGM3EkGL9K2qSwsEWxd3LKS48xZoExQgsWGVVr2WQy1oGbTxXc8B5R 200 2.422ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.842Z] PUT:/anchor/default/create-anchor/4K8K3xZfdsFugXRpFp9wP8ZEsPwoUSdN7QceMrPfT9tL4LrRNkQ4ettVgAoERcmdmBKX6dQ1WEYmLMMEdHRJWRQFt7e6iJEGM3EkGL9K2qSwsEWxd3LKS48xZoExQgsWGVVr2WQy1oGbTxXc8B5R/2kN5BVDCiWjeFSDq39V8W6tPJkDo9KzQDMqb8fpGzgKXfE386tbKMabKSsi5xjWnuzdz51krD7e9yqxNou94JcCxUrpvcYhbPiymK73U9f75EsSxee8crqrwr7SGKSZTV5VG8KdfXdE5F2BSX72BTUM6nevCmDfgvTdNmfTdVAYZecbVoB33QwYef79eo7DK1M5o7xJE8Aeoh4pwibTCqBg7BanTakFNfZ 201 3.347ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.851Z] PUT:/bricking/default/put-brick 201 1.186ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.856Z] PUT:/bricking/default/put-brick 201 1.164ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.863Z] GET:/anchor/default/get-last-version/4K8K3xZfdsFugXRpFp9wP8ZEsNzEZ7L7PgWWnfMjdJ8XrDLA5vR1eS3NDgocsNESk7mvKXUvmdt7Q5BUQXr7Vqre6ntfVKV6D4XmiFfqcZupj2B7BNfUv48rmy3rn5yJLMxERf7dndsVwH2P3MEX 200 1.388ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.868Z] PUT:/anchor/default/create-anchor/4K8K3xZfdsFugXRpFp9wP8ZEsNzEZ7L7PgWWnfMjdJ8XrDLA5vR1eS3NDgocsNESk7mvKXUvmdt7Q5BUQXr7Vqre6ntfVKV6D4XmiFfqcZupj2B7BNfUv48rmy3rn5yJLMxERf7dndsVwH2P3MEX/8iQ1THWriEFDQiKd2UTA7Sun3ioVGFu6aEudK7sVY4UTaRg8hxJ6vAvgNxHFuz2Wgzkvp7c4AEuEaqU368UNNeYNTt6rd6gnXnV4337xem1zhkzr9e9kM7RgmAGBh5iNKiFcE8uuiqY75oqbmHzmcyfaafwRtbTvqtT7BmDbyGteaDgko7nMNmV3zRFgEd934XDtu2sfqAdHb7mui3MStWFH4Pjxy1JRKV1 201 5.97ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.883Z] PUT:/bricking/default/put-brick 201 1.159ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.888Z] PUT:/bricking/default/put-brick 201 1.059ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.895Z] GET:/anchor/default/get-all-versions/4K8K3xZfdsFugXRpFp9wP8ZEsNzEZ7L7PgWWnfMjdJ8XrDLA5vR1eS3NDgocsNESk7mvKXUvmdt7Q5BUQXr7Vqre6ntfVKV6D4XmiFfqcZupj2B7BNfUv48rmy3rn5yJLMxERf7dndsVwH2P3MEX 200 3.924ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.902Z] PUT:/anchor/default/append-to-anchor/4K8K3xZfdsFugXRpFp9wP8ZEsNzEZ7L7PgWWnfMjdJ8XrDLA5vR1eS3NDgocsNESk7mvKXUvmdt7Q5BUQXr7Vqre6ntfVKV6D4XmiFfqcZupj2B7BNfUv48rmy3rn5yJLMxERf7dndsVwH2P3MEX/8iQ1THWriEFDQiKd2UTA7Sv1uSidwp7QQq48okTCgtd9TVARkB8PtBNjH5VBQt7A6fzFxcr76LDNGafdcArhPU9HF4R28B4A2XdNpjLwZmjAL12MeWCNuyp5jg63UQgKRLXecuBs4Qq44eY8dpeQZh1p52xWiME6XLgPVFTV5Zu8Ewg2Y3CygfpA2ceJiUEPEJbiCgWY6nfh72MDciucfkdAbzL1PU9TRuR 201 3.575ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.911Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.302ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.920Z] PUT:/bricking/vault/put-brick 201 1.242ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.925Z] PUT:/bricking/vault/put-brick 201 1.058ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.930Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8iorBaSk239XanXA9aj73C2XS6Zo6o1nBDUbzXa2vAyuJbr3zVyYp7GZs2w1rTHFc668pjuwf1mnkP85hHAzjaWJkADMqU9KAyiQVbEHX55iQtgMUh8N8UhPBTmNzK 200 1.33ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.936Z] PUT:/anchor/vault/create-anchor/ArzZh8TxNMevR6QanDX8iorBaSk239XanXA9aj73C2XS6Zo6o1nBDUbzXa2vAyuJbr3zVyYp7GZs2w1rTHFc668pjuwf1mnkP85hHAzjaWJkADMqU9KAyiQVbEHX55iQtgMUh8N8UhPBTmNzK/PxygXrtbKyLQ522BXWKxWnZqNRySfCaRJ8FfyXhB4Tb1qEDKBZHb8n3AkrN4pKmGQJTAWJ95nDDVc5tdK2BbwD7F2PYykdqqSwx9dToYVaY3CW4EvyhonQ2fURB7qY2PKwmTZsYXFbdGK95k2U6DP27MPKV4XePUr4ctaSF8BGD7A3kZYzdZntA1fKAviKGwRF1d8zqNQfQ1stkkvomj27SR1s7KzFJP 201 2.741ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.945Z] PUT:/bricking/vault/put-brick 201 1.075ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.949Z] PUT:/bricking/vault/put-brick 201 8.882ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.962Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.158ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.965Z] PUT:/anchor/vault/create-anchor/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd/2ZJYQfUMTmozJapVdoEKHrywjX5S1af7RmyyeNjC1qeaxz7gzjZXDKDCdufjSq2oe3Gc3ozRRWgu7sXjkh5H 201 1.361ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.968Z] PUT:/bricking/vault/put-brick 201 1.093ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.973Z] PUT:/bricking/vault/put-brick 201 0.956ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.979Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8iorBaSk239XanXA9aj73C2XS6Zo6o1nBDUbzXa2vAyuJbr3zVyYp7GZs2w1rTHFc668pjuwf1mnkP85hHAzjaWJkADMqU9KAyiQVbEHX55iQtgMUh8N8UhPBTmNzK 200 2.801ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.985Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8iorBaSk239XanXA9aj73C2XS6Zo6o1nBDUbzXa2vAyuJbr3zVyYp7GZs2w1rTHFc668pjuwf1mnkP85hHAzjaWJkADMqU9KAyiQVbEHX55iQtgMUh8N8UhPBTmNzK/PxygXrtbKyLQ522BXWKvQoRvgc73d1DGg8dT2gCf1B6pDDcZaNgCm5SbVM7cEdEwNw23nTANkexiwK8UgpYYRAtwVnZiccAR9N1YMzNkMT5bE2AMcx2WpG6Qp3pVZmQd3J97M7HzPpTS7poLPjBMhma1B1VrVdcEKM5MxkZh1y1HhSGfH2UQB4so55u2GGmFtKkiMHYUXndbTR4hk8SfPsonvkjKGPr7 201 5.956ms\n","127.0.0.1:21129 - [2022-03-16T15:14:32.993Z] GET:/bricking/vault/get-brick/Nn8S1pnGL6vfVzkshT8Qte96WysFiwnx9RjqBEQgANK 200 1.29ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.000Z] PUT:/bricking/vault/put-brick 201 1.002ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.004Z] PUT:/bricking/vault/put-brick 201 0.971ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.010Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8ioqYMzgcKPrGBTyFc6rswnNBoJPDTwcY9RyD3Kg8Q1xHryQFcR36qmB5t7HZ1XVhrSnE1GUc4Z7YPmjvLeoFGxVdpsynHaLLD3s38kYxi7yKJh59ANNthjSDgDU6s 200 1.172ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.015Z] PUT:/anchor/vault/create-anchor/ArzZh8TxNMevR6QanDX8ioqYMzgcKPrGBTyFc6rswnNBoJPDTwcY9RyD3Kg8Q1xHryQFcR36qmB5t7HZ1XVhrSnE1GUc4Z7YPmjvLeoFGxVdpsynHaLLD3s38kYxi7yKJh59ANNthjSDgDU6s/PxygXrtbKyLQ522BXWKuvR6E57jtmPzLivim2qXZSXh7dxxxF8F51W7AwAsxgKT9Y4FHXr7PVtaHfDp8XzAqLecDNyvxUQiudhX7gEM8NWX1UqApTUKFHhUtXoJjBsWbSKqocEpmo75xRhCFceymE7pMnvu9af2XHH4MvrweeGnGXvjpcX4pnDbZrxhr3JqB6PJT5GmhzBJxCjhfsvawHYL4K3DzWR8b 201 2.461ms\n","The function \"getWalletDB is obsolete. Use getSimpleWalletDB instead\n","127.0.0.1:21129 - [2022-03-16T15:14:33.025Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8ioqYMzgcKPrGBTyFc6rswnNBoJPDTwcY9RyD3Kg8Q1xHryQFcR36qmB5t7HZ1XVhrSnE1GUc4Z7YPmjvLeoFGxVdpsynHaLLD3s38kYxi7yKJh59ANNthjSDgDU6s 200 1.724ms\n",">>> No observers found for event type initialised\nFinishing initialisation\n",">>> No observers found for event type warn\n>>> Loading a shared database\n","127.0.0.1:21129 - [2022-03-16T15:14:33.031Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.401ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.035Z] PUT:/bricking/vault/put-brick 201 0.937ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.040Z] PUT:/bricking/vault/put-brick 201 0.938ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.046Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8iorBaSk239XanXA9aj73C2XS6Zo6o1nBDUbzXa2vAyuJbr3zVyYp7GZs2w1rTHFc668pjuwf1mnkP85hHAzjaWJkADMqU9KAyiQVbEHX55iQtgMUh8N8UhPBTmNzK 200 3.696ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.053Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8iorBaSk239XanXA9aj73C2XS6Zo6o1nBDUbzXa2vAyuJbr3zVyYp7GZs2w1rTHFc668pjuwf1mnkP85hHAzjaWJkADMqU9KAyiQVbEHX55iQtgMUh8N8UhPBTmNzK/PxygXrtbKyLQ522BXWKwtgYtx61RGqVsDywGJpw1Gpwxkq9tnRNRdm6MCh3mLTHDpL4L2LWnpMsUANDeJqYUFnUoeNHYTYHxtVXWdwECn37tw8oAVEtpjtDzUEbabjjuhcDqT5f4H1Zz1ETd814HAFTQduNHoiBwtWARiZjTnk73Ryb3VC4LJsrkUSEw3R9q9tSWWHNHQcWS6Xa6ywc4KFNy1pDM2xfq 201 3.197ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.059Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.347ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.061Z] GET:/bricking/vault/get-brick/6wE6xj4M4n8U9cNg3ZpondzYvNH8ttvk3PwhxNnAtTZN 200 0.93ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.066Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 6.857ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.082Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 2.419ms\n",">>> No observers found for event type initialised\n",">>> No observers found for event type initialised\n","127.0.0.1:21129 - [2022-03-16T15:14:33.088Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 2.658ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.094Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.36ms\n","The function \"getWalletDB is obsolete. Use getSimpleWalletDB instead\n","127.0.0.1:21129 - [2022-03-16T15:14:33.099Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8ioqYMzgcKPrGBTyFc6rswnNBoJPDTwcY9RyD3Kg8Q1xHryQFcR36qmB5t7HZ1XVhrSnE1GUc4Z7YPmjvLeoFGxVdpsynHaLLD3s38kYxi7yKJh59ANNthjSDgDU6s 200 4.558ms\n",">>> No observers found for event type initialised\n","Finishing initialisation\n",">>> No observers found for event type warn\n",">>> Loading a shared database\n","127.0.0.1:21129 - [2022-03-16T15:14:33.103Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 2.668ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.108Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.372ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.111Z] PUT:/bricking/vault/put-brick 201 0.966ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.116Z] PUT:/bricking/vault/put-brick 201 0.934ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.122Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8iorBaSk239XanXA9aj73C2XS6Zo6o1nBDUbzXa2vAyuJbr3zVyYp7GZs2w1rTHFc668pjuwf1mnkP85hHAzjaWJkADMqU9KAyiQVbEHX55iQtgMUh8N8UhPBTmNzK 200 4.894ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.130Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8iorBaSk239XanXA9aj73C2XS6Zo6o1nBDUbzXa2vAyuJbr3zVyYp7GZs2w1rTHFc668pjuwf1mnkP85hHAzjaWJkADMqU9KAyiQVbEHX55iQtgMUh8N8UhPBTmNzK/PxygXrtbKyLQ522BXWKwt4y5xBUngC9yvzEeJ62ksqo3iVVrE7UbcDnQzRTh3BQHRZBHjiHHPqAnKyhsnnm24ZB14vEJVTzxTVnrEPuqxntXX6dTf2kxwsLD3xxWbjmeksgNspBER5tUuCzt1t8sp47Z3CAjGxxTXeS1438o2Tsps28V1RRJSREKdib7CPtnx7j9nSqpakLdRyDma2D957MtoAMrrpvT 201 3.59ms\n","Function already promisified\n","EPI Mapping Engine called for domain:  default, and walletSSI : BBudGH6ySHG6GUHN8ogNrTWbWfVKuA4yQKi9EqAdsGi8GY6Zf9wqAMxfYavDz1WSxLMm7LyM9XvPNmAVYVm2yjnYf\n","[API-HUB] apihub.getServerConfig() method is deprecated, please use server.config.getDomainConfig(...) to retrieve necessary info.\n","127.0.0.1:21129 - [2022-03-16T15:14:33.146Z] GET:/anchor/default/get-last-version/4K8K3xZfdsFugXRpFp9wP8ZEsNzEZ7L7PgWWnfMjdJ8XrDLA5vR1eS3NDgocsNESk7mvKXUvmdt7Q5BUQXr7Vqre6ntfVKV6D4XmiFfqcZupj2B7BNfUv48rmy3rn5yJLMxERf7dndsVwH2P3MEX 200 1.765ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.149Z] GET:/bricking/default/get-brick/5iJLaHEB4mvos41HwZAkm1vTJF4sPK75i6hLiwX85v6D 200 0.923ms\n","[MAPPING ENGINE]: 2 new messages arrived. Processing...\n","New GTIN_SSI in domain:default and bricksDomain:default\n","Unable to find a suitable mapping to handle the following message: {\"messageType\":\"Product Wrong message type\",\"messageTypeVersion\":0.1,\"senderId\":\"endpoint\",\"receiverId\":\"\",\"messageId\":\"3267078\",\"messageDateTime\":\"2022-02-16T13:25:58.633Z\",\"token\":\"\",\"product\":{\"inventedName\":\"test\",\"productCode\":\"42428588544913\",\"nameMedicinalProduct\":\"tst 40 mg\",\"manufName\":\"\",\"adverseEventReportingURL\":\"http://localhost:8080/borest/scan\",\"acfProductCheckURL\":\"http://localhost:8080/borest/scan\",\"flagEnableAdverseEventReporting\":true,\"flagEnableACFProductCheck\":true,\"flagDisplayEPI_BatchRecalled\":false,\"flagDisplayEPI_SNRecalled\":false,\"flagDisplayEPI_SNDecommissioned\":false,\"flagDisplayEPI_SNUnknown\":false,\"flagDisplayEPI_EXPIncorrect\":false,\"flagDisplayEPI_BatchExpired\":true,\"healthcarePractitionerInfo\":\"SmPC\",\"patientSpecificLeaflet\":\"Patient Information\",\"markets\":[{\"marketId\":\"PT\",\"nationalCode\":\"PRT\",\"mahName\":\"MAH name\",\"legalEntityName\":\"Legal name\"}],\"internalMaterialCode\":\"\",\"strength\":\"\",\"flagDisplayEPI_BatchNumberUnknown\":true}}\n","127.0.0.1:21129 - [2022-03-16T15:14:33.139Z] PUT:/mappingEngine/default/default 200 22.555ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.163Z] GET:/anchor/default/get-last-version/3JstiXLNpRW3C5xu4UNNE74we5AcYEF8ziMA6Dba6DX452qHASPJJXmboBD2P6JKiWtPJAwdSTBNZ8FJio3ooosM 200 1.043ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.162Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 4.676ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.167Z] GET:/anchor/default/get-last-version/3JstiXLNpRW3C5xu4UNNE74we5AcYEF8ziMA6Dba6DX452qHASPJJXmboBD2P6JKiWtPJAwdSTBNZ8FJio3ooosM 200 1.018ms\n",">>> No observers found for event type change\n",">>> No observers found for event type change\n",">>> No observers found for event type change\n",">>> No observers found for event type change\n","127.0.0.1:21129 - [2022-03-16T15:14:33.177Z] GET:/bricking/vault/get-brick/GEmtqdwv3WHsyJAdjp99KQVNiuGXnkE6Zq21782uLMGc 200 1.637ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.178Z] PUT:/bricking/default/put-brick 201 1.143ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.186Z] PUT:/bricking/vault/put-brick 201 1.505ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.187Z] PUT:/bricking/default/put-brick 201 1.115ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.200Z] GET:/anchor/default/get-last-version/4K8K3xZfdsFugXRpFp9wP8ZEsNrRi8SHedWeUsBUvbUqyPvGUo5DFVznYDPRFGjqr6Hp6wwiJcEQntuJZ7VNimPq1X6ZYRy4jwJTgzJjph7k8bNhLdo2vjLq1jnF5FBTscs3WvRuySjrMz5oYc4X 200 1.167ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.199Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8iorBaSk239XanXA9aj73C2XS6Zo6o1nBDUbzXa2vAyuJbr3zVyYp7GZs2w1rTHFc668pjuwf1mnkP85hHAzjaWJkADMqU9KAyiQVbEHX55iQtgMUh8N8UhPBTmNzK 200 10.729ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.210Z] PUT:/anchor/default/create-anchor/4K8K3xZfdsFugXRpFp9wP8ZEsNrRi8SHedWeUsBUvbUqyPvGUo5DFVznYDPRFGjqr6Hp6wwiJcEQntuJZ7VNimPq1X6ZYRy4jwJTgzJjph7k8bNhLdo2vjLq1jnF5FBTscs3WvRuySjrMz5oYc4X/8iQ1THWriEFDQiKd2UTA7SwbLbQTP9zvrMpKkKRx851DyknCLg56iRNQbMoHHXVZbguNnWGGdP57kXxcFahArY3TyoG8yNYndTvw9mXiwaJeyHLtK3jLVu8HjUBg8ZGZhwL2BWmqM2T4e3CU1c12B2vhtDoxRMSuAzNbkyaRDDu9Tj53gCZRfh4iA7uhH4vYQEdT9zWBDpxuYYwtq73gbsto3kjF9wPu3ao 201 7.252ms\nFailed to load JSON due to  Path </product.json> not found.\n","127.0.0.1:21129 - [2022-03-16T15:14:33.222Z] PUT:/bricking/default/put-brick 201 3.057ms\n","127.0.0.1:21129 - [2022-03-16T15:14:33.221Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8iorBaSk239XanXA9aj73C2XS6Zo6o1nBDUbzXa2vAyuJbr3zVyYp7GZs2w1rTHFc668pjuwf1mnkP85hHAzjaWJkADMqU9KAyiQVbEHX55iQtgMUh8N8UhPBTmNzK/PxygXrtbKyLQ522BXWKxGRS6a3EEHF5xL1pv3gHEY7hymivhDCKVpUNo4oHDLXnmujtzWj3TPbYmXa4usT5LsmEZ6CCBjnC8isvQ5d9Bv6Jscu11G7huPWe9x3vq2FPG25G5FBqnytkGLCgNuRPMJWmopfroNe1zz5hhWVGKqahbZMm8Nxv9VHkusGYod5YthEuzpRKEu8AgG784fzvMyu4dh3cqtPMy 201 6.044ms\n",{"level":0,"message":"double-check has intercepted an unhandledRejection event","stack":"TypeError: Cannot read property 'toString' of undefined\n    at Object.promisify (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:56620:45)\n    at /home/runner/work/epi-workspace/epi-workspace/epi-utils/build/bundles/epiUtils.js:1677:16\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"},"Test should fail because: Unhandled Rejection! TypeError: Cannot read property 'toString' of undefined\n    at Object.promisify (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:56620:45)\n    at /home/runner/work/epi-workspace/epi-workspace/epi-utils/build/bundles/epiUtils.js:1677:16\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n","127.0.0.1:21129 - [2022-03-16T15:14:33.230Z] PUT:/bricking/default/put-brick 201 0.914ms\n","EPI Mapping Engine get called for domain:  default\n","No logs found for domain -  default\n","127.0.0.1:21129 - [2022-03-16T15:14:35.163Z] GET:/mappingEngine/default/logs 500 0.91ms\n","Request logs:\n","\t Generic Error Middleware prevented message to be sent on response.end {\"result\":\"Error\",\"message\":\"No logs\"}\n","\n\n","No results to parse, trying again ...\n","Process finished with errors!","Exit code: 1 Signal: null"]},"items":null},{"__meta":{"conf":{"runs":1},"parent":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests","isDirectory":false},"data":{"name":"leafletUploadLocalTest.js","path":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests/leafletUploadLocalTest.js"},"result":{"state":"finished","pass":false,"executionTime":0,"runs":0,"asserts":[],"messages":["Logger not available, using console\n","Redefining require for node\n","VirtualMQ running in test environment\n","Logger not available, using console\n","Redefining require for node\n","VirtualMQ running in test environment\n","[TIR][INFO] Using the following options for launcher {\n  domains: [\n    { name: 'default', config: [Object] },\n    'test1',\n    'test2',\n    { name: 'vault', config: [Object] }\n  ],\n  serverConfig: {\n    activeComponents: [\n      'bdns',\n      'bricksLedger',\n      'bricksFabric',\n      'bricking',\n      'anchoring',\n      'epi-mapping-engine-results',\n      'mq'\n    ],\n    componentsConfig: { 'epi-mapping-engine-results': [Object] }\n  },\n  rootFolder: '/tmp/enclaveBuffering9518TmCHqj',\n  maxTries: 100,\n  bdns: null,\n  validatorDID: null,\n  validators: null,\n  useWorker: false,\n  bricksLedgerConfig: null,\n  includeDefaultDomains: true,\n  contractBuildFilePath: null,\n  generateValidatorDID: false,\n  onPortAquired: null,\n  onBeforeServerStart: null,\n  storageFolder: '/tmp/enclaveBuffering9518TmCHqj/external-volume'\n}\n","[TIR][INFO] Generated random port 15194\n","[TIR][INFO] TIR is checking if port 15194 is available. Please wait...\n","[TIR][INFO] Port 15194 is available\n","[TIR][INFO] Storing file 'apihub.json' at /tmp/enclaveBuffering9518TmCHqj/external-volume/config... {\"activeComponents\":[\"bdns\",\"bricksLedger\",\"bricksFabric\",\"bricking\",\"anchoring\",\"epi-mapping-engine-results\",\"mq\"],\"componentsConfig\":{\"epi-mapping-engine-results\":{\"module\":\"/home/runner/work/epi-workspace/epi-workspace/epi-utils/\",\"function\":\"getEPIMappingEngineMessageResults\"}},\"host\":\"localhost\",\"port\":15194}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering9518TmCHqj/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{\"enableBricksLedger\":false},\"commands\":{\"addAnchor\":\"anchor\"}},\"enable\":[\"mq\",\"enclave\"]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering9518TmCHqj/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering9518TmCHqj/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering9518TmCHqj/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{}},\"enable\":[\"mq\"]}\n","[TIR][INFO] Using the following BDNS content for http://localhost:15194: {\n  default: {\n    replicas: [],\n    notifications: [ 'http://localhost:15194' ],\n    brickStorages: [ 'http://localhost:15194' ],\n    anchoringServices: [ 'http://localhost:15194' ],\n    contractServices: [ 'http://localhost:15194' ],\n    validators: []\n  },\n  test1: {\n    replicas: [],\n    notifications: [ 'http://localhost:15194' ],\n    brickStorages: [ 'http://localhost:15194' ],\n    anchoringServices: [ 'http://localhost:15194' ],\n    contractServices: [ 'http://localhost:15194' ],\n    validators: []\n  },\n  test2: {\n    replicas: [],\n    notifications: [ 'http://localhost:15194' ],\n    brickStorages: [ 'http://localhost:15194' ],\n    anchoringServices: [ 'http://localhost:15194' ],\n    contractServices: [ 'http://localhost:15194' ],\n    validators: []\n  },\n  vault: {\n    replicas: [],\n    notifications: [ 'http://localhost:15194' ],\n    brickStorages: [ 'http://localhost:15194' ],\n    anchoringServices: [ 'http://localhost:15194' ],\n    contractServices: [ 'http://localhost:15194' ],\n    validators: []\n  }\n}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering9518TmCHqj/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:15194\"],\"brickStorages\":[\"http://localhost:15194\"],\"anchoringServices\":[\"http://localhost:15194\"],\"contractServices\":[\"http://localhost:15194\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering9518TmCHqj/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:15194\"],\"brickStorages\":[\"http://localhost:15194\"],\"anchoringServices\":[\"http://localhost:15194\"],\"contractServices\":[\"http://localhost:15194\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering9518TmCHqj/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:15194\"],\"brickStorages\":[\"http://localhost:15194\"],\"anchoringServices\":[\"http://localhost:15194\"],\"contractServices\":[\"http://localhost:15194\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering9518TmCHqj/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:15194\"],\"brickStorages\":[\"http://localhost:15194\"],\"anchoringServices\":[\"http://localhost:15194\"],\"contractServices\":[\"http://localhost:15194\"],\"validators\":[]}\n","[TIR][INFO] Starting apihub instance... [ 15194, '/tmp/enclaveBuffering9518TmCHqj' ]\n","Fix this: This could generate memory leaks. Fix it later\n","Trying to read the apihub.json file from the location pointed by PSK_CONFIG_LOCATION env variable.\n","Loading config for domain 'default'\n","Loading config for domain 'test1'\n","Loading config for domain 'test2'\n","Loading config for domain 'vault'\n","[API-HUB] Trying to listen on port 15194\n","Registering Logger middleware\n[API-HUB] generic error middleware was loaded. This middleware will prevent any error to leak when sending a >=400 response to the client.\n","[API-HUB] Request API enhancements were set up.\n","Registering IframeHandler middleware\n","Using boot script for worker: /home/runner/work/epi-workspace/epi-workspace/privatesky/./psknode/bundles/nodeBoot.js\n","[API-HUB] Preparing to register middleware from path ./components/config\n","[API-HUB] Not able to find config for component called < bricksLedger >. Excluding it from the active components list!\n","[API-HUB] Preparing to register middleware from path ./components/bdns\n","[API-HUB] Preparing to register middleware from path ./components/bricksFabric\n","[API-HUB] Preparing to register middleware from path ./components/bricking\n","[API-HUB] Preparing to register middleware from path ./components/anchoring\n","[API-HUB] Preparing to register middleware from path /home/runner/work/epi-workspace/epi-workspace/epi-utils/\n","[API-HUB] Preparing to register middleware from path ./components/mqHub\n","Preparing to register mq endpoints for domain < default > ... \n","Loading Local MQ Adapter for domain: default\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n","Warning: Local MQ Adapter should be used only during development!\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n","Successfully register mq endpoints for domain < default >.\n","Preparing to register mq endpoints for domain < vault > ... \n","Loading Local MQ Adapter for domain: vault\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\nWarning: Local MQ Adapter should be used only during development!\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n","Successfully register mq endpoints for domain < vault >.\n","[TIR][INFO] Using the following options for launcher {\n  domains: [\n    { name: 'default', config: [Object] },\n    'test1',\n    'test2',\n    { name: 'vault', config: [Object] }\n  ],\n  serverConfig: {\n    activeComponents: [\n      'bdns',\n      'bricksLedger',\n      'bricksFabric',\n      'bricking',\n      'anchoring',\n      'epi-mapping-engine',\n      'epi-mapping-engine-results'\n    ],\n    componentsConfig: {\n      'epi-mapping-engine': [Object],\n      'epi-mapping-engine-results': [Object]\n    }\n  },\n  rootFolder: '/tmp/enclaveBuffering472yJAqPQ',\n  maxTries: 100,\n  bdns: null,\n  validatorDID: null,\n  validators: null,\n  useWorker: false,\n  bricksLedgerConfig: null,\n  includeDefaultDomains: true,\n  contractBuildFilePath: null,\n  generateValidatorDID: false,\n  onPortAquired: null,\n  onBeforeServerStart: null,\n  storageFolder: '/tmp/enclaveBuffering472yJAqPQ/external-volume'\n}\n","[TIR][INFO] Generated random port 48764\n","[TIR][INFO] TIR is checking if port 48764 is available. Please wait...\n","[TIR][INFO] Port 48764 is available\n","[TIR][INFO] Storing file 'apihub.json' at /tmp/enclaveBuffering472yJAqPQ/external-volume/config... {\"activeComponents\":[\"bdns\",\"bricksLedger\",\"bricksFabric\",\"bricking\",\"anchoring\",\"epi-mapping-engine\",\"epi-mapping-engine-results\"],\"componentsConfig\":{\"epi-mapping-engine\":{\"module\":\"/home/runner/work/epi-workspace/epi-workspace/epi-utils/\",\"function\":\"getEPIMappingEngineForAPIHUB\"},\"epi-mapping-engine-results\":{\"module\":\"/home/runner/work/epi-workspace/epi-workspace/epi-utils/\",\"function\":\"getEPIMappingEngineMessageResults\"}},\"host\":\"localhost\",\"port\":48764}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering472yJAqPQ/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{\"enableBricksLedger\":false},\"commands\":{\"addAnchor\":\"anchor\"}},\"messagesEndPoints\":[{\"endPointId\":\"endpoint\",\"endPointURL\":\"http://localhost:15194/mappingEngine/default/default/saveResult\"}]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering472yJAqPQ/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering472yJAqPQ/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering472yJAqPQ/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{}},\"enable\":[\"mq\"]}\n","[TIR][INFO] Using the following BDNS content for http://localhost:48764: {\n  default: {\n    replicas: [],\n    notifications: [ 'http://localhost:48764' ],\n    brickStorages: [ 'http://localhost:48764' ],\n    anchoringServices: [ 'http://localhost:48764' ],\n    contractServices: [ 'http://localhost:48764' ],\n    validators: []\n  },\n  test1: {\n    replicas: [],\n    notifications: [ 'http://localhost:48764' ],\n    brickStorages: [ 'http://localhost:48764' ],\n    anchoringServices: [ 'http://localhost:48764' ],\n    contractServices: [ 'http://localhost:48764' ],\n    validators: []\n  },\n  test2: {\n    replicas: [],\n    notifications: [ 'http://localhost:48764' ],\n    brickStorages: [ 'http://localhost:48764' ],\n    anchoringServices: [ 'http://localhost:48764' ],\n    contractServices: [ 'http://localhost:48764' ],\n    validators: []\n  },\n  vault: {\n    replicas: [],\n    notifications: [ 'http://localhost:48764' ],\n    brickStorages: [ 'http://localhost:48764' ],\n    anchoringServices: [ 'http://localhost:48764' ],\n    contractServices: [ 'http://localhost:48764' ],\n    validators: []\n  }\n}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering472yJAqPQ/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:48764\"],\"brickStorages\":[\"http://localhost:48764\"],\"anchoringServices\":[\"http://localhost:48764\"],\"contractServices\":[\"http://localhost:48764\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering472yJAqPQ/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:48764\"],\"brickStorages\":[\"http://localhost:48764\"],\"anchoringServices\":[\"http://localhost:48764\"],\"contractServices\":[\"http://localhost:48764\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering472yJAqPQ/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:48764\"],\"brickStorages\":[\"http://localhost:48764\"],\"anchoringServices\":[\"http://localhost:48764\"],\"contractServices\":[\"http://localhost:48764\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering472yJAqPQ/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:48764\"],\"brickStorages\":[\"http://localhost:48764\"],\"anchoringServices\":[\"http://localhost:48764\"],\"contractServices\":[\"http://localhost:48764\"],\"validators\":[]}\n","[TIR][INFO] Starting apihub instance... [ 48764, '/tmp/enclaveBuffering472yJAqPQ' ]\n","Fix this: This could generate memory leaks. Fix it later\n","Trying to read the apihub.json file from the location pointed by PSK_CONFIG_LOCATION env variable.\n","Loading config for domain 'default'\n","Loading config for domain 'test1'\n","Loading config for domain 'test2'\n","Loading config for domain 'vault'\n","[API-HUB] Trying to listen on port 48764\n","Registering Logger middleware\n","[API-HUB] generic error middleware was loaded. This middleware will prevent any error to leak when sending a >=400 response to the client.\n","[API-HUB] Request API enhancements were set up.\n","Registering IframeHandler middleware\n","Using boot script for worker: /home/runner/work/epi-workspace/epi-workspace/privatesky/./psknode/bundles/nodeBoot.js\n","[API-HUB] Preparing to register middleware from path ./components/config\n","[API-HUB] Not able to find config for component called < bricksLedger >. Excluding it from the active components list!\n","[API-HUB] Preparing to register middleware from path ./components/bdns\n","[API-HUB] Preparing to register middleware from path ./components/bricksFabric\n","[API-HUB] Preparing to register middleware from path ./components/bricking\n","[API-HUB] Preparing to register middleware from path ./components/anchoring\n","[API-HUB] Preparing to register middleware from path /home/runner/work/epi-workspace/epi-workspace/epi-utils/\n","[API-HUB] Preparing to register middleware from path /home/runner/work/epi-workspace/epi-workspace/epi-utils/\n","127.0.0.1:48764 - [2022-03-16T15:14:35.885Z] GET:/bdns 200 2.443ms\n","127.0.0.1:48764 - [2022-03-16T15:14:35.905Z] PUT:/bricking/default/put-brick 201 4.765ms\n","127.0.0.1:48764 - [2022-03-16T15:14:35.922Z] PUT:/bricking/default/put-brick 201 1.168ms\n","127.0.0.1:48764 - [2022-03-16T15:14:35.934Z] GET:/anchor/default/get-last-version/4K8K3xZfdsFugXRpFp9wP8ZEsQFqqqqVyWBQSYmuNWgom1MMo26qaEbUSzxLWQyYFePFzQn5xiALQLiHoSWeYHKv2trkYSUisjWQB2M3TYXzY6dk7PU5FhFNq4BEULWjTcLJNVa7YHzkaA8pMBom 200 2.349ms\n","127.0.0.1:48764 - [2022-03-16T15:14:35.942Z] PUT:/anchor/default/create-anchor/4K8K3xZfdsFugXRpFp9wP8ZEsQFqqqqVyWBQSYmuNWgom1MMo26qaEbUSzxLWQyYFePFzQn5xiALQLiHoSWeYHKv2trkYSUisjWQB2M3TYXzY6dk7PU5FhFNq4BEULWjTcLJNVa7YHzkaA8pMBom/8iQ1THWriEFDQiKd2UTA7SwjFWTTACKNDeepfHt7Y217vWaCWpSS9oNx1B3RjwhFeTZVGGyycGjF2pvWSjHSd87tLXWAkUYEcjW6KGdBoj1FLZjfu1GW88cgBxfykBtox1dW5jckzbpxPtw8Yu3e8NNoaFwC9zjQaK2usfp1UCxiG36digJ6juWyHdfLBivnbrfcBUpascbm4wh1fhhktYt8UYHSeK6bdRH 201 3.257ms\n","127.0.0.1:48764 - [2022-03-16T15:14:35.951Z] PUT:/bricking/default/put-brick 201 1.141ms\n","127.0.0.1:48764 - [2022-03-16T15:14:35.956Z] PUT:/bricking/default/put-brick 201 1.119ms\n","127.0.0.1:48764 - [2022-03-16T15:14:35.962Z] GET:/anchor/default/get-last-version/4K8K3xZfdsFugXRpFp9wP8ZEsQRW9bazgEEHzMVfRWguQSDpGE4CvKJoXpK8QENamSoq6k1E4B113tavawKDwNxseeahLftMF6hZaXqkHfkVMngEuDuBmBTJuQGwXkP1ujjbpWK4acoKt2N1LoDh 200 1.386ms\n","127.0.0.1:48764 - [2022-03-16T15:14:35.968Z] PUT:/anchor/default/create-anchor/4K8K3xZfdsFugXRpFp9wP8ZEsQRW9bazgEEHzMVfRWguQSDpGE4CvKJoXpK8QENamSoq6k1E4B113tavawKDwNxseeahLftMF6hZaXqkHfkVMngEuDuBmBTJuQGwXkP1ujjbpWK4acoKt2N1LoDh/8iQ1THWriEFDQiKd2UTA7SwqroRXidDHJ65QSx55fsTf4inB2qfGsBQKV4CwjdQyMaQw5oVcfHzz3edUvRF7Zrt5kpv6AD9vrju2yBndBoyQUquniT9vBXpcYTUyHyN3F9nDwvHAWVSoZAEnJcmfoxNv4E7cuwKUrYVpE6i5s8qjhWMo5r8Re8PkoanUt7XEYzYLeC5cMMpN9qSJK5KeqZxZULc3aCXXfvf 201 4.953ms\n","127.0.0.1:48764 - [2022-03-16T15:14:35.982Z] PUT:/bricking/default/put-brick 201 1.09ms\n","127.0.0.1:48764 - [2022-03-16T15:14:35.987Z] PUT:/bricking/default/put-brick 201 1.035ms\n","127.0.0.1:48764 - [2022-03-16T15:14:35.993Z] GET:/anchor/default/get-all-versions/4K8K3xZfdsFugXRpFp9wP8ZEsQRW9bazgEEHzMVfRWguQSDpGE4CvKJoXpK8QENamSoq6k1E4B113tavawKDwNxseeahLftMF6hZaXqkHfkVMngEuDuBmBTJuQGwXkP1ujjbpWK4acoKt2N1LoDh 200 3.877ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.001Z] PUT:/anchor/default/append-to-anchor/4K8K3xZfdsFugXRpFp9wP8ZEsQRW9bazgEEHzMVfRWguQSDpGE4CvKJoXpK8QENamSoq6k1E4B113tavawKDwNxseeahLftMF6hZaXqkHfkVMngEuDuBmBTJuQGwXkP1ujjbpWK4acoKt2N1LoDh/8iQ1THWriEFDQiKd2UTA7SumXH9Th5NzF4batxmVzQkPzJEsKEkyxhBdfFBLNj61jRbjyYTKjW5XMDfjcAMfjLiXegnv2LhxnifX5N8qqAUThWmY4eieREKkZ1cBgT8DqHpa9JnXKEuNFQ4nMCiDxgBKHiHbsLwrKjssPadayNjdsBDgp9SAMQwkHyrBtXs4Yee1ak59mgvHtEesmEdjLoAgk3qaBDVa9tT 201 3.576ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.010Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.315ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.017Z] PUT:/bricking/vault/put-brick 201 1.275ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.022Z] PUT:/bricking/vault/put-brick 201 1.028ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.028Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8ioqFZywZUHoXJBHsB9gp9zWJBwhnrttyq5Q3e99P55uuiH7xLE6P5xH3sq1Cpuw7jxVmhhjBQrxEMs3KYXBTVHRt5fCyRnncQicnYWV4UzCpTRY3iNfiXoTkh5U4w 200 1.343ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.033Z] PUT:/anchor/vault/create-anchor/ArzZh8TxNMevR6QanDX8ioqFZywZUHoXJBHsB9gp9zWJBwhnrttyq5Q3e99P55uuiH7xLE6P5xH3sq1Cpuw7jxVmhhjBQrxEMs3KYXBTVHRt5fCyRnncQicnYWV4UzCpTRY3iNfiXoTkh5U4w/PxygXrtbKyLQ522BXWKxPPjg1AcBp2BpKzBbZmCNAcwJTSq4H5MWMhTuzsEQVCeCfbJjNMK1mkXJt9HGnzYceFYSgeCozDaecbGRekXeJvYUwAiuyAfJ5kAgxLaR78ESAH5rpvr2dWU58NoM3x7nKfM2kpTebWkmvaLj1Dm9jfxLZiUigvdnfeEU2rGSTLwB4Dg7snzoNv9YB1HZbPVHr67v34E6LKiw 201 2.705ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.043Z] PUT:/bricking/vault/put-brick 201 1.045ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.046Z] PUT:/bricking/vault/put-brick 201 9.389ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.065Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.189ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.068Z] PUT:/anchor/vault/create-anchor/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd/2ZJYQfUMTmozJapVdoF1aCDzHz7zzLnT1wmWXh93sm1oaHz41x3DHpDqZ1zdBEe7KPi7vHce3zDNRDQpcVGK 201 1.388ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.072Z] PUT:/bricking/vault/put-brick 201 0.965ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.077Z] PUT:/bricking/vault/put-brick 201 0.958ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.083Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8ioqFZywZUHoXJBHsB9gp9zWJBwhnrttyq5Q3e99P55uuiH7xLE6P5xH3sq1Cpuw7jxVmhhjBQrxEMs3KYXBTVHRt5fCyRnncQicnYWV4UzCpTRY3iNfiXoTkh5U4w 200 2.784ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.089Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8ioqFZywZUHoXJBHsB9gp9zWJBwhnrttyq5Q3e99P55uuiH7xLE6P5xH3sq1Cpuw7jxVmhhjBQrxEMs3KYXBTVHRt5fCyRnncQicnYWV4UzCpTRY3iNfiXoTkh5U4w/PxygXrtbKyLQ522BXWKvRqHoAhYQgXuwACTpbSvta3Xh43JsZXe8ev53ETb97TN17Jt7aP71iW6vPLrvzUjDwHGx3NC2ij6G4YdmbbYcp9v4HfW2sUHhtBTyzEZikz9o3U66W6hjvMWgBrDnrbPRqrLPdRUmj7YQYEKkgcptWZnddYKyMcRy47dhJT3Vy8zuuwpjJpaHoyLzRu417iM5CcDfGYQCUpcX 201 4.982ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.096Z] GET:/bricking/vault/get-brick/4eQnPEfkC1cD9wxiaYVmBH7ddstGfybTEPv8zUkep7LK 200 1.198ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.101Z] PUT:/bricking/vault/put-brick 201 0.958ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.106Z] PUT:/bricking/vault/put-brick 201 0.949ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.112Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8iore9CE7Ad5u8HDJ9yXGK1hidnSdAowQtoLxWKp1U1LoY5Nqk9a5wUTQwvfCSf3hidG2Je9Jghsdj3K1AJa2UXgFHnU6ksaDawtFdPRYM2YqrpZziDQ7gAGAohVhq 200 1.169ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.117Z] PUT:/anchor/vault/create-anchor/ArzZh8TxNMevR6QanDX8iore9CE7Ad5u8HDJ9yXGK1hidnSdAowQtoLxWKp1U1LoY5Nqk9a5wUTQwvfCSf3hidG2Je9Jghsdj3K1AJa2UXgFHnU6ksaDawtFdPRYM2YqrpZziDQ7gAGAohVhq/PxygXrtbKyLQ522BXWKvAkdGzCPAGH2a7YVNiKteYDUjWTRjzYhUfntpK2NqR6qgMehLmLZ3oZEQSM7tHABgXaQtWS8dBbE7RX8DTs1Dcr2nPLfJy8y46oD2DHee6rD4MDozGFmi1PRcq1m9mmP4nQwyKghDKMsCJdttNKTtqLRKMMcpxVKvjFKh5EYYh5hzaqTHSThHgsFdEpyoR6M6SmcPzQupP5RH 201 2.461ms\n","The function \"getWalletDB is obsolete. Use getSimpleWalletDB instead\n","127.0.0.1:48764 - [2022-03-16T15:14:36.126Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8iore9CE7Ad5u8HDJ9yXGK1hidnSdAowQtoLxWKp1U1LoY5Nqk9a5wUTQwvfCSf3hidG2Je9Jghsdj3K1AJa2UXgFHnU6ksaDawtFdPRYM2YqrpZziDQ7gAGAohVhq 200 1.71ms\n",">>> No observers found for event type initialised\n","Finishing initialisation\n",">>> No observers found for event type warn\n",">>> Loading a shared database\n","127.0.0.1:48764 - [2022-03-16T15:14:36.134Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.484ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.138Z] PUT:/bricking/vault/put-brick 201 0.929ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.143Z] PUT:/bricking/vault/put-brick 201 0.924ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.149Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8ioqFZywZUHoXJBHsB9gp9zWJBwhnrttyq5Q3e99P55uuiH7xLE6P5xH3sq1Cpuw7jxVmhhjBQrxEMs3KYXBTVHRt5fCyRnncQicnYWV4UzCpTRY3iNfiXoTkh5U4w 200 3.631ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.155Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8ioqFZywZUHoXJBHsB9gp9zWJBwhnrttyq5Q3e99P55uuiH7xLE6P5xH3sq1Cpuw7jxVmhhjBQrxEMs3KYXBTVHRt5fCyRnncQicnYWV4UzCpTRY3iNfiXoTkh5U4w/PxygXrtbKyLQ522BXWKv4FftJDFbn4uLHx4yAuF8po77ixcdMLHu1h7uV5MYbTi6w8iKbEfhjvhJpkQhFAcrjRs82ixpWKuKNeiVWFfM7uFy2obPsjvbEQoGYgngfHJRHRBGCzQ5ZQa912MmnLE7Mwv9Q1YHgvsYgDmJAS234UMyegiGe7NLz1ShvfeoN4xedUBeoa1mU5hc5gBegDvn3ZBiXP9KDH2w 201 3.257ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.161Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.319ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.164Z] GET:/bricking/vault/get-brick/5eKdVmcmsfcsLRWN7b8pM6pnvbvZAGhteMiofMmpkmXk 200 0.905ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.168Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 6.898ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.184Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 2.389ms\n",">>> No observers found for event type initialised\n",">>> No observers found for event type initialised\n","127.0.0.1:48764 - [2022-03-16T15:14:36.190Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.396ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.196Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.298ms\n","The function \"getWalletDB is obsolete. Use getSimpleWalletDB instead\n","127.0.0.1:48764 - [2022-03-16T15:14:36.204Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8iore9CE7Ad5u8HDJ9yXGK1hidnSdAowQtoLxWKp1U1LoY5Nqk9a5wUTQwvfCSf3hidG2Je9Jghsdj3K1AJa2UXgFHnU6ksaDawtFdPRYM2YqrpZziDQ7gAGAohVhq 200 2.607ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.205Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.861ms\n",">>> No observers found for event type initialised\n","Finishing initialisation\n",">>> No observers found for event type warn\n",">>> Loading a shared database\n","127.0.0.1:48764 - [2022-03-16T15:14:36.210Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.35ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.213Z] PUT:/bricking/vault/put-brick 201 0.986ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.218Z] PUT:/bricking/vault/put-brick 201 0.94ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.224Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8ioqFZywZUHoXJBHsB9gp9zWJBwhnrttyq5Q3e99P55uuiH7xLE6P5xH3sq1Cpuw7jxVmhhjBQrxEMs3KYXBTVHRt5fCyRnncQicnYWV4UzCpTRY3iNfiXoTkh5U4w 200 4.911ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.232Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8ioqFZywZUHoXJBHsB9gp9zWJBwhnrttyq5Q3e99P55uuiH7xLE6P5xH3sq1Cpuw7jxVmhhjBQrxEMs3KYXBTVHRt5fCyRnncQicnYWV4UzCpTRY3iNfiXoTkh5U4w/PxygXrtbKyLQ522BXWKwfLzEVkYtyBSzrc3jmo2syEWipPtKKZqQzg1E2YSHCQ49z44PvxnLjbG3tQ7kE3w5LeCD5FCXpgUPwqLjjtrw6nw14ReCyi3WDEsPtGdcu5BooCPAmoYbRUaRdy8AzrqF1k1CxHsDnh6Kq3iq6ytNQAaYuH88q8E1n9hSkAmdkBcU6e92Z26hbMSBAS2iXcwN5Xz3dFT2Nu4T 201 3.553ms\n","Function already promisified\n","EPI Mapping Engine called for domain:  default, and walletSSI : BBudGH6ySHG6GUHN8ogNrTWcaaCMhQ9Mc6kKtGXbCxEnz73wKa5ztFA4Cm1EFkjNKfhHncdQ6KkMssipdsvDxtQkF\n","[API-HUB] apihub.getServerConfig() method is deprecated, please use server.config.getDomainConfig(...) to retrieve necessary info.\n","127.0.0.1:48764 - [2022-03-16T15:14:36.555Z] GET:/anchor/default/get-last-version/4K8K3xZfdsFugXRpFp9wP8ZEsQRW9bazgEEHzMVfRWguQSDpGE4CvKJoXpK8QENamSoq6k1E4B113tavawKDwNxseeahLftMF6hZaXqkHfkVMngEuDuBmBTJuQGwXkP1ujjbpWK4acoKt2N1LoDh 200 2.063ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.559Z] GET:/bricking/default/get-brick/3ctijkiuiWqDh6qf3PKnhQSG3Fwjd1UHAW2ufypNGt1x 200 0.977ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.550Z] PUT:/mappingEngine/default/default 200 16.315ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.568Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.581ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.570Z] GET:/bricking/vault/get-brick/BdgwJJup7SnRHPgqxydiSyR5iSEbG2AWqPwFUu1vydVL 200 0.912ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.575Z] PUT:/bricking/vault/put-brick 201 0.997ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.582Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8ioqFZywZUHoXJBHsB9gp9zWJBwhnrttyq5Q3e99P55uuiH7xLE6P5xH3sq1Cpuw7jxVmhhjBQrxEMs3KYXBTVHRt5fCyRnncQicnYWV4UzCpTRY3iNfiXoTkh5U4w 200 6.059ms\n","127.0.0.1:48764 - [2022-03-16T15:14:36.591Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8ioqFZywZUHoXJBHsB9gp9zWJBwhnrttyq5Q3e99P55uuiH7xLE6P5xH3sq1Cpuw7jxVmhhjBQrxEMs3KYXBTVHRt5fCyRnncQicnYWV4UzCpTRY3iNfiXoTkh5U4w/PxygXrtbKyLQ522BXWKxW4et5EMdHH1SQgRFCVcG6DMNXTQds4otxPjXFaP8ANTTxEXNZhoZWeZxuHYPi2HwdSCKaFfFWxsAcnV5zbooWcMbTUZ8XbynHduoUz8nvLQRVNxUZxfUSZQqFcpG5pVMn5JStMrpXkMeLGwZWuG6CxDJjxzjJABwNwhb7mzCZzTA1VUEcv7Td2fg5TBrpV7X1FudtJWNFVyq 201 3.792ms\n",{"level":0,"message":"double-check has intercepted an unhandledRejection event","stack":"TypeError: Cannot read property 'toString' of undefined\n    at Object.promisify (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:56620:45)\n    at /home/runner/work/epi-workspace/epi-workspace/epi-utils/build/bundles/epiUtils.js:1677:16\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"},"Test should fail because: Unhandled Rejection! TypeError: Cannot read property 'toString' of undefined\n    at Object.promisify (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:56620:45)\n    at /home/runner/work/epi-workspace/epi-workspace/epi-utils/build/bundles/epiUtils.js:1677:16\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n","EPI Mapping Engine get called for domain:  default\n","No logs found for domain -  default\n","127.0.0.1:48764 - [2022-03-16T15:14:38.568Z] GET:/mappingEngine/default/logs 500 0.922ms\n","Request logs:\n","\t Generic Error Middleware prevented message to be sent on response.end {\"result\":\"Error\",\"message\":\"No logs\"}\n\n\n","No results to parse, trying again ...\n","Process finished with errors!","Exit code: 1 Signal: null"]},"items":null}],"startDate":1647443672074,"endDate":1647443776159,"runned":5});
</script>
</html>