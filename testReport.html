<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Report</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <style>
        body{
            background-color: #F8F8F8;
        }
        div#title{
            background-color: white;
            border-bottom: #DDD 2px solid;
            text-align: center;
            line-height: 75px;
            font-family: sans-serif;
            font-size: 24px;
            color: #666;
        }
        #report-head .container{
            padding-top: 30px;
            padding-bottom: 30px;
        }
        div.panel{
            border: #DDD 1px solid;
            background-color: white;
            min-height: 200px;
        }
        div.panel.col{
            padding: 0;
            margin: 0 5px;
        }
        div.label{
            text-align: center;
            position: relative;
            top: -12px;
        }
        .label span{
            text-transform: uppercase;
            border-radius: 15px;
            padding: 2px 10px;
            border: #ddd 1px solid;
            background-color: white;
        }
        div[id$="-value"]{
            font-family: sans-serif;
            font-size: 32px;
            color: #666;
            text-align: center;
            top: 6px;
            position: relative;
        }
        div[id$="-icon"]{
            min-height: 100px;
            background-color: #F8F8F8;
            margin: 0;
            text-align: center;
            padding-top: 20px;
        }
        div[id$="-icon"] .fa{
            font-size: 50px;
        }
        div#no-fails-icon{
            background-color: lightcoral;
            border-color: lightcoral;
            color: white;
        }
        div#no-fails-label span{
            border-color: lightcoral;
        }
        div#no-successes-icon{
            background-color: forestgreen;
            border-color: forestgreen;
            color: white;
        }
        div#no-successes-label span{
            border-color: forestgreen;
        }

        h1{
            font-size: 32px;
        }
        /*------ tables -------*/
        table{
            width: 100%;
        }
        table thead{
            font-weight: bold;
        }
        table td{
            line-height: 40px;
        }
        table thead {
            background-color: lightsteelblue;
        }
        table tr td:first-child{
            min-width: 15px;
            text-align: center;
        }
        table .fa-check{
            color: forestgreen;
        }
        table .fa-times{
            color: lightcoral;
        }

        table td{
            text-align: center;
        }

        table td:nth-child(2){
            text-align: left;
        }

        p.counter{
            font-size: 20px;
            line-height: 40px;
        }

        table a:not([href]){
            color: #007bff!important;
            cursor: pointer;
        }

        /*------ failed tables -------*/
        table#failed-tests tbody tr{

        }
        .collapsed{
            display: none;
        }
        /*------ popup -------*/
        div#popup {
            position: fixed;
            height: 100%;
            width: 100%;
            left: 0;
            top: 0;
            z-index: 1;
            display: none;
            background-color: rgba(0, 0, 0, 0.5);
        }

        #popup .container{
            position: relative;
            top: 20%;
            max-height: 60%;
            overflow: auto;
            background-color: white;
        }

        #popup-title{
            line-height: 60px;
            background-color: lightgray;
            font-size: 24px;
        }

        #popup .row {
            padding: 5px 20px;
        }

        #popup h1{
            font-size: 30px;
        }

        #popup-content .container:not(:last-child){
            border-bottom: black solid 1px;
            margin-bottom: 40px;
        }

        .row.asserts {
            display: block;
        }

        /*------ RESPONSIVE ------*/
        @media only screen and (max-width: 1024px){
            div[id$="-value"]{
                font-size: 20px;
                top: -10px;
            }

            .label span{
                font-size: 12px;
            }

            h1{
                font-size: 28px;
            }

            div.panel{
                min-height: 100px;
            }

            div[id$="-icon"]{
                min-height: 50px;
                padding-top: 10px;
            }

            div[id$="-icon"] .fa{
                font-size: 25px;
            }

            table a{
                font-size: 12px;
            }

            table td{
                font-size: 12px;
            }

            p.counter{
                font-size: 16px;
            }
        }

    </style>
</head>
<body>
<div id="report">
    <div id="report-head">
        <div id="title">Test Runner Report (TRR)</div>
        <div class="container">
            <div class="row">
                <div id="no-suites" class="panel col">
                    <div id="no-suites-icon"><span class="fa fa-folder-open-o"></span></div>
                    <div id="no-suites-label" class="label"><span>Suits</span></div>
                    <div id="no-suites-value"></div>
                </div>
                <div id="no-tests" class="panel col">
                    <div id="no-tests-icon"><span class="fa fa-bolt"></span></div>
                    <div id="no-tests-label" class="label"><span>Runned / Total</span></div>
                    <div id="no-tests-value"><span id="runned"></span><small>/<span id="total"></span></small></div>
                </div>
                <div id="duration" class="panel col">
                    <div id="no-duration-icon"><span class="fa fa-clock-o"></span></div>
                    <div id="no-duration-label" class="label"><span>Duration</span></div>
                    <div id="no-duration-value"></div>
                </div>
                <div id="fails" class="panel col">
                    <div id="no-fails-icon"><span class="fa fa-times"></span></div>
                    <div id="no-fails-label" class="label"><span>Failed</span></div>
                    <div id="no-fails-value"></div>
                </div>
                <div id="successes" class="panel col">
                    <div id="no-successes-icon"><span class="fa fa-check"></span></div>
                    <div id="no-successes-label" class="label"><span>Success Rate</span></div>
                    <div id="no-successes-value"></div>
                </div>
            </div>
        </div>

    </div>
    <div id="report-main-content">
        <div class="container" id="failed-tests">
            <div class="row">
                <h1>Failed Tests</h1>
            </div>
            <div class="row">
                <table>
                    <thead>
                    <td>
                        <span class="fa fa-chevron-up" onclick="collapse('#failed-tests-table-body', event);"></span>
                    </td>
                    <td width="55%">Name</td>
                    <td width="15%">No. of cases</td>
                    <td width="15%">No. of messages</td>
                    <td width="10%">State</td>
                    <td width="2%"></td>
                    </thead>
                    <tbody id="failed-tests-table-body"></tbody>
                </table>
            </div>
        </div>
        <div id="passed-tests" class="container">
            <div class="row">
                <h1>Passed Tests</h1>
            </div>
            <div class="row">
                <table>
                    <thead>
                    <td>
                        <span class="fa fa-chevron-up" onclick="collapse('#passed-tests-table-body', event);"></span>
                    </td>
                    <td width="55%">Name</td>
                    <td width="15%">No. of cases</td>
                    <td width="15%">No. of messages</td>
                    <td width="10%">State</td>
                    <td width="2%"></td>
                    </thead>
                    <tbody id="passed-tests-table-body"></tbody>
                </table>
            </div>
        </div>

    </div>
</div>
<div id="popup" class="test-details" onclick="closeTestDetails(event)">
    <div class="container">
        <div id="popup-title" class="row"></div>
        <div id="popup-content" class="row"></div>
    </div>
</div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.slim.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
</script>
<script>
    function print(dataSource){
        //console.log(dataSource);
        window.dataSource = dataSource;
        populateReportHeader(dataSource);
        buildReportMainContent(dataSource);
    }

    function populateReportHeader(dataSource){
        $("#title").html("Test Report <span>[" + new Date(dataSource.endDate).toLocaleString("en-US")+"]</span>");
        $("#no-suites-value").text(dataSource.suites.length);
        $("#total").text(dataSource.count);
        $("#runned").text(dataSource.runned);
        $("#no-fails-value").text(dataSource.failed.length);
        let rate = ((dataSource.passed.length/dataSource.count)*100).toPrecision(4);
        $("#no-successes-value").text(`${rate}%`);
        let duration = dataSource.endDate-dataSource.startDate;
        duration = duration/1000;
        $("#no-duration-value").text(`${duration}s`);
    }

    function displayTests(dataSource, resultType){
        if(dataSource[resultType].length===0){
            //if no tests are found matching resultType them hide the entire area (table)
            $(`#${resultType}-tests`).css("display", "none");
            return;
        }

        let target = $(`#${resultType}-tests-table-body`);

        $(`#${resultType}-tests h1`).parent().append(`<p class="counter"> (${dataSource[resultType].length})</p>`);
        const limita = 50;
        for(let i=0; i<dataSource[resultType].length; i++){
            let test = dataSource[resultType][i];
            let detailsPairTable = `#passed-tests-${i}`;
            let testFileName = test.data.path;
            if(test.data.path.length>limita*1.5){
                testFileName = "..."+test.data.path.substr(test.data.path.length - limita);
            }
            target.append(
                `<tr>
                    <td><span class="fa ${test.result.pass ? 'fa-check' : 'fa-times'}"/></td>
                    <td><a onclick="displayTestDetails('${resultType}', '${i}');">${testFileName}</a></td>
                    <td>${test.result.asserts.length}</td>
                    <td>${test.result.messages.length}</td>
                    <td>${test.result.state}</td>
                    <td><a href="${test.data.path}"><span class="fa fa-file"></span></a></td>
                </tr>`);
        }
    }

    function buildReportMainContent(dataSource){
        displayTests(dataSource, "failed");
        displayTests(dataSource, "passed");
    }

    function collapse(target, event){
        $(target).toggleClass("collapsed");
        $(event.target).toggleClass("fa-chevron-up").toggleClass("fa-chevron-down");
    }

    function displayTestDetails(testType, index){
        let popupContainer = $("#popup-content");
        test = window.dataSource[testType][index];

        let pop_asserts = "";
        for(let i=0; i<test.result.asserts.length; i++){
            let message = test.result.asserts[i];
            if(typeof message !== "string"){
                if(typeof message === "object" && !Array.isArray(message) && typeof message.message !== "undefined"){
                    message = message.message;
                }else{
                    message = JSON.stringify(message);
                }
            }
            message = message.replace(new RegExp("\n", 'g'), "<br>");
            pop_asserts+=`<div>${message}</div>`;
        }

        if(pop_asserts.length === 0){
            popupContainer.append(`<div class='container'><div class='row'><h3>Test cases</h3></div><div class='row asserts'>No cases tested.</div></div>`);
        }else{
            popupContainer.append(`<div class='container'><div class='row'><h3>Test cases</h3></div><div class='row asserts'>${pop_asserts}</div></div>`);
        }

        let pop_console = "";
        for(let i=0; i<test.result.messages.length; i++){
            let message = test.result.messages[i];
            if(typeof message !== "string"){
                message = JSON.stringify(message);
            }
            message = message.replace(new RegExp("\n", 'g'), "<br>");
            pop_console+=`<div style="display: block;width: 100%;font-family: monospace;font-size: 16px;">${message}</div>`;
        }

        popupContainer.append(`<div class='container'><div class='row'><h3>Console messages</h3></div><div class='row'>${pop_console}</div></div>`);

        $("#popup-title").html(`<h1>Test ${test.data.name} details</h1>`);
        $("#popup").css("display", "block");
        //always scroll on top
		document.getElementById("popup-title").parentNode.scrollTop = 0;
    }

    function closeTestDetails(event){
        if($(event.target).attr("id") === "popup"){
            $("#popup").css("display", "none");
            $("#popup-content").html("");
        }
    }
</script>
<script>
print({"count":5,"suites":["/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests"],"passed":[{"__meta":{"conf":{"runs":1},"parent":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests","isDirectory":false},"data":{"name":"groupingTest.js","path":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests/groupingTest.js"},"result":{"state":"finished","pass":true,"executionTime":0,"runs":0,"asserts":[{"level":11,"type":"assert","timestamp":1647392469965,"message":"[Pass] message grouping test "}],"messages":["Logger not available, using console\n","Redefining require for node\n","VirtualMQ running in test environment\n","[TIR][INFO] Using the following options for launcher {\n  maxTries: 1,\n  rootFolder: '/tmp/testFoldercMmSP4',\n  serverConfig: {},\n  domains: [ 'default', 'test1', 'test2', { name: 'vault', config: [Object] } ],\n  bdns: null,\n  validatorDID: null,\n  validators: null,\n  useWorker: false,\n  bricksLedgerConfig: null,\n  includeDefaultDomains: true,\n  contractBuildFilePath: null,\n  generateValidatorDID: false,\n  onPortAquired: null,\n  onBeforeServerStart: null,\n  storageFolder: '/tmp/testFoldercMmSP4/external-volume'\n}\n","[TIR][INFO] Generated random port 13608\n","[TIR][INFO] TIR is checking if port 13608 is available. Please wait...\n","[TIR][INFO] Port 13608 is available\n","[TIR][INFO] Storing file 'apihub.json' at /tmp/testFoldercMmSP4/external-volume/config... {\"host\":\"localhost\",\"port\":13608}\n","[TIR][INFO] Storing file 'default.json' at /tmp/testFoldercMmSP4/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/testFoldercMmSP4/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/testFoldercMmSP4/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/testFoldercMmSP4/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{}},\"enable\":[\"mq\"]}\n","[TIR][INFO] Using the following BDNS content for http://localhost:13608: {\n  default: {\n    replicas: [],\n    notifications: [ 'http://localhost:13608' ],\n    brickStorages: [ 'http://localhost:13608' ],\n    anchoringServices: [ 'http://localhost:13608' ],\n    contractServices: [ 'http://localhost:13608' ],\n    validators: []\n  },\n  test1: {\n    replicas: [],\n    notifications: [ 'http://localhost:13608' ],\n    brickStorages: [ 'http://localhost:13608' ],\n    anchoringServices: [ 'http://localhost:13608' ],\n    contractServices: [ 'http://localhost:13608' ],\n    validators: []\n  },\n  test2: {\n    replicas: [],\n    notifications: [ 'http://localhost:13608' ],\n    brickStorages: [ 'http://localhost:13608' ],\n    anchoringServices: [ 'http://localhost:13608' ],\n    contractServices: [ 'http://localhost:13608' ],\n    validators: []\n  },\n  vault: {\n    replicas: [],\n    notifications: [ 'http://localhost:13608' ],\n    brickStorages: [ 'http://localhost:13608' ],\n    anchoringServices: [ 'http://localhost:13608' ],\n    contractServices: [ 'http://localhost:13608' ],\n    validators: []\n  }\n}\n","[TIR][INFO] Storing file 'default.json' at /tmp/testFoldercMmSP4/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:13608\"],\"brickStorages\":[\"http://localhost:13608\"],\"anchoringServices\":[\"http://localhost:13608\"],\"contractServices\":[\"http://localhost:13608\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/testFoldercMmSP4/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:13608\"],\"brickStorages\":[\"http://localhost:13608\"],\"anchoringServices\":[\"http://localhost:13608\"],\"contractServices\":[\"http://localhost:13608\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/testFoldercMmSP4/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:13608\"],\"brickStorages\":[\"http://localhost:13608\"],\"anchoringServices\":[\"http://localhost:13608\"],\"contractServices\":[\"http://localhost:13608\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/testFoldercMmSP4/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:13608\"],\"brickStorages\":[\"http://localhost:13608\"],\"anchoringServices\":[\"http://localhost:13608\"],\"contractServices\":[\"http://localhost:13608\"],\"validators\":[]}\n","[TIR][INFO] Starting apihub instance... [ 13608, '/tmp/testFoldercMmSP4' ]\n","Fix this: This could generate memory leaks. Fix it later\n","Trying to read the apihub.json file from the location pointed by PSK_CONFIG_LOCATION env variable.\n","Loading config for domain 'default'\n","Loading config for domain 'test1'\n","Loading config for domain 'test2'\n","Loading config for domain 'vault'\n","[API-HUB] Trying to listen on port 13608\n","Registering Logger middleware\n","[API-HUB] generic error middleware was loaded. This middleware will prevent any error to leak when sending a >=400 response to the client.\n","[API-HUB] Request API enhancements were set up.\n","Registering IframeHandler middleware\n","Using boot script for worker: /home/runner/work/epi-workspace/epi-workspace/privatesky/./psknode/bundles/nodeBoot.js\n","[API-HUB] Preparing to register middleware from path ./components/config\n","[API-HUB] Not able to find config for component called < config >. Excluding it from the active components list!\n","[API-HUB] Preparing to register middleware from path ./components/mqHub\n","Preparing to register mq endpoints for domain < vault > ... \n","Loading Local MQ Adapter for domain: vault\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n","Warning: Local MQ Adapter should be used only during development!\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n","Successfully register mq endpoints for domain < vault >.\n","[API-HUB] Preparing to register middleware from path ./components/enclave\n","[API-HUB] Preparing to register middleware from path ./components/secrets\n","[API-HUB] Preparing to register middleware from path ./components/channelManager\n","Failed to load module  zeromq  with error: Cannot find module 'zeromq'\nRequire stack:\n- /home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js\n- /home/runner/work/epi-workspace/epi-workspace/epi-utils/tests/groupingTest.js\n","zeroMQ not available at this moment.\n","[API-HUB] Preparing to register middleware from path ./components/mqManager\n","[API-HUB] Preparing to register middleware from path ./components/keySsiNotifications\n","[API-HUB] Preparing to register middleware from path ./components/fileManager\n","[API-HUB] Preparing to register middleware from path ./components/bdns\n","[API-HUB] Preparing to register middleware from path ./components/bricking\n","[API-HUB] Preparing to register middleware from path ./components/anchoring\n","[API-HUB] Preparing to register middleware from path ./components/bricksFabric\n","[API-HUB] Preparing to register middleware from path ./components/contracts\n","[API-HUB] Preparing to register middleware from path dsu-wizard\n","[API-HUB] apihub.getServerConfig() method is deprecated, please use server.config to retrieve necessary info.\n","[API-HUB] apihub.getServerConfig() method is deprecated, please use server.config to retrieve necessary info.\n","Registering url /dsu-wizard/:domain/addFile/:transactionId post\n","Registering url /dsu-wizard/:domain/mount/:transactionId post\n","Registering url /dsu-wizard/:domain/setKeySSI/:transactionId post\n","Registering url /dsu-wizard/:domain/copy/:transactionId post\n","[API-HUB] Preparing to register middleware from path ./components/debugLogger\n","[API-HUB] apihub.getServerConfig() method is deprecated, please use server.config to retrieve necessary info.\n","[API-HUB] Preparing to register middleware from path ./components/staticServer\n","Message 5\n","Message 3\n","Message 1\n"]},"items":null},{"__meta":{"conf":{"runs":1},"parent":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests","isDirectory":false},"data":{"name":"validateSchemaTest.js","path":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests/validateSchemaTest.js"},"result":{"state":"finished","pass":true,"executionTime":0,"runs":0,"asserts":[{"level":11,"type":"assert","timestamp":1647392472152,"message":"[Pass] SchemaValidate test"}],"messages":["Logger not available, using console\n","Redefining require for node\n","Fix this: This could generate memory leaks. Fix it later\n"]},"items":null}],"failed":[{"__meta":{"conf":{"runs":1},"parent":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests","isDirectory":false},"data":{"name":"apihubAllMessagesTest.js","path":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests/apihubAllMessagesTest.js"},"result":{"state":"finished","pass":false,"executionTime":0,"runs":0,"asserts":[],"messages":["Logger not available, using console\n","Redefining require for node\n","VirtualMQ running in test environment\n","Logger not available, using console\n","Redefining require for node\n","VirtualMQ running in test environment\n","[TIR][INFO] Using the following options for launcher {\n  domains: [\n    { name: 'default', config: [Object] },\n    'test1',\n    'test2',\n    { name: 'vault', config: [Object] }\n  ],\n  serverConfig: {\n    activeComponents: [\n      'bdns',\n      'bricksLedger',\n      'bricksFabric',\n      'bricking',\n      'anchoring',\n      'epi-mapping-engine-results',\n      'mq'\n    ],\n    componentsConfig: { 'epi-mapping-engine-results': [Object] }\n  },\n  rootFolder: '/tmp/enclaveBuffering225650ceNZ',\n  maxTries: 100,\n  bdns: null,\n  validatorDID: null,\n  validators: null,\n  useWorker: false,\n  bricksLedgerConfig: null,\n  includeDefaultDomains: true,\n  contractBuildFilePath: null,\n  generateValidatorDID: false,\n  onPortAquired: null,\n  onBeforeServerStart: null,\n  storageFolder: '/tmp/enclaveBuffering225650ceNZ/external-volume'\n}\n","[TIR][INFO] Generated random port 28181\n","[TIR][INFO] TIR is checking if port 28181 is available. Please wait...\n","[TIR][INFO] Port 28181 is available\n","[TIR][INFO] Storing file 'apihub.json' at /tmp/enclaveBuffering225650ceNZ/external-volume/config... {\"activeComponents\":[\"bdns\",\"bricksLedger\",\"bricksFabric\",\"bricking\",\"anchoring\",\"epi-mapping-engine-results\",\"mq\"],\"componentsConfig\":{\"epi-mapping-engine-results\":{\"module\":\"/home/runner/work/epi-workspace/epi-workspace/epi-utils/\",\"function\":\"getEPIMappingEngineMessageResults\"}},\"host\":\"localhost\",\"port\":28181}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering225650ceNZ/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{\"enableBricksLedger\":false},\"commands\":{\"addAnchor\":\"anchor\"}},\"enable\":[\"mq\",\"enclave\"]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering225650ceNZ/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering225650ceNZ/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering225650ceNZ/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{}},\"enable\":[\"mq\"]}\n","[TIR][INFO] Using the following BDNS content for http://localhost:28181: {\n  default: {\n    replicas: [],\n    notifications: [ 'http://localhost:28181' ],\n    brickStorages: [ 'http://localhost:28181' ],\n    anchoringServices: [ 'http://localhost:28181' ],\n    contractServices: [ 'http://localhost:28181' ],\n    validators: []\n  },\n  test1: {\n    replicas: [],\n    notifications: [ 'http://localhost:28181' ],\n    brickStorages: [ 'http://localhost:28181' ],\n    anchoringServices: [ 'http://localhost:28181' ],\n    contractServices: [ 'http://localhost:28181' ],\n    validators: []\n  },\n  test2: {\n    replicas: [],\n    notifications: [ 'http://localhost:28181' ],\n    brickStorages: [ 'http://localhost:28181' ],\n    anchoringServices: [ 'http://localhost:28181' ],\n    contractServices: [ 'http://localhost:28181' ],\n    validators: []\n  },\n  vault: {\n    replicas: [],\n    notifications: [ 'http://localhost:28181' ],\n    brickStorages: [ 'http://localhost:28181' ],\n    anchoringServices: [ 'http://localhost:28181' ],\n    contractServices: [ 'http://localhost:28181' ],\n    validators: []\n  }\n}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering225650ceNZ/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:28181\"],\"brickStorages\":[\"http://localhost:28181\"],\"anchoringServices\":[\"http://localhost:28181\"],\"contractServices\":[\"http://localhost:28181\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering225650ceNZ/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:28181\"],\"brickStorages\":[\"http://localhost:28181\"],\"anchoringServices\":[\"http://localhost:28181\"],\"contractServices\":[\"http://localhost:28181\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering225650ceNZ/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:28181\"],\"brickStorages\":[\"http://localhost:28181\"],\"anchoringServices\":[\"http://localhost:28181\"],\"contractServices\":[\"http://localhost:28181\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering225650ceNZ/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:28181\"],\"brickStorages\":[\"http://localhost:28181\"],\"anchoringServices\":[\"http://localhost:28181\"],\"contractServices\":[\"http://localhost:28181\"],\"validators\":[]}\n","[TIR][INFO] Starting apihub instance... [ 28181, '/tmp/enclaveBuffering225650ceNZ' ]\n","Fix this: This could generate memory leaks. Fix it later\n","Trying to read the apihub.json file from the location pointed by PSK_CONFIG_LOCATION env variable.\n","Loading config for domain 'default'\n","Loading config for domain 'test1'\n","Loading config for domain 'test2'\n","Loading config for domain 'vault'\n","[API-HUB] Trying to listen on port 28181\n","Registering Logger middleware\n","[API-HUB] generic error middleware was loaded. This middleware will prevent any error to leak when sending a >=400 response to the client.\n","[API-HUB] Request API enhancements were set up.\n","Registering IframeHandler middleware\n","Using boot script for worker: /home/runner/work/epi-workspace/epi-workspace/privatesky/./psknode/bundles/nodeBoot.js\n","[API-HUB] Preparing to register middleware from path ./components/config\n","[API-HUB] Not able to find config for component called < bricksLedger >. Excluding it from the active components list!\n","[API-HUB] Preparing to register middleware from path ./components/bdns\n","[API-HUB] Preparing to register middleware from path ./components/bricksFabric\n","[API-HUB] Preparing to register middleware from path ./components/bricking\n","[API-HUB] Preparing to register middleware from path ./components/anchoring\n","[API-HUB] Preparing to register middleware from path /home/runner/work/epi-workspace/epi-workspace/epi-utils/\n","[API-HUB] Preparing to register middleware from path ./components/mqHub\n","Preparing to register mq endpoints for domain < default > ... \n","Loading Local MQ Adapter for domain: default\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n","Warning: Local MQ Adapter should be used only during development!\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n","Successfully register mq endpoints for domain < default >.\n","Preparing to register mq endpoints for domain < vault > ... \n","Loading Local MQ Adapter for domain: vault\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\nWarning: Local MQ Adapter should be used only during development!\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n","Successfully register mq endpoints for domain < vault >.\n","[TIR][INFO] Using the following options for launcher {\n  domains: [\n    { name: 'default', config: [Object] },\n    'test1',\n    'test2',\n    { name: 'vault', config: [Object] }\n  ],\n  serverConfig: {\n    activeComponents: [\n      'bdns',\n      'bricksLedger',\n      'bricksFabric',\n      'bricking',\n      'anchoring',\n      'epi-mapping-engine',\n      'epi-mapping-engine-results'\n    ],\n    componentsConfig: {\n      'epi-mapping-engine': [Object],\n      'epi-mapping-engine-results': [Object]\n    }\n  },\n  rootFolder: '/tmp/enclaveBuffering894Xq1OjD',\n  maxTries: 100,\n  bdns: null,\n  validatorDID: null,\n  validators: null,\n  useWorker: false,\n  bricksLedgerConfig: null,\n  includeDefaultDomains: true,\n  contractBuildFilePath: null,\n  generateValidatorDID: false,\n  onPortAquired: null,\n  onBeforeServerStart: null,\n  storageFolder: '/tmp/enclaveBuffering894Xq1OjD/external-volume'\n}\n","[TIR][INFO] Generated random port 18436\n","[TIR][INFO] TIR is checking if port 18436 is available. Please wait...\n","[TIR][INFO] Port 18436 is available\n","[TIR][INFO] Storing file 'apihub.json' at /tmp/enclaveBuffering894Xq1OjD/external-volume/config... {\"activeComponents\":[\"bdns\",\"bricksLedger\",\"bricksFabric\",\"bricking\",\"anchoring\",\"epi-mapping-engine\",\"epi-mapping-engine-results\"],\"componentsConfig\":{\"epi-mapping-engine\":{\"module\":\"/home/runner/work/epi-workspace/epi-workspace/epi-utils/\",\"function\":\"getEPIMappingEngineForAPIHUB\"},\"epi-mapping-engine-results\":{\"module\":\"/home/runner/work/epi-workspace/epi-workspace/epi-utils/\",\"function\":\"getEPIMappingEngineMessageResults\"}},\"host\":\"localhost\",\"port\":18436}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering894Xq1OjD/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{\"enableBricksLedger\":false},\"commands\":{\"addAnchor\":\"anchor\"}},\"messagesEndPoints\":[{\"endPointId\":\"endpoint\",\"endPointURL\":\"http://localhost:28181/mappingEngine/default/default/saveResult\"}]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering894Xq1OjD/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering894Xq1OjD/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering894Xq1OjD/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{}},\"enable\":[\"mq\"]}\n","[TIR][INFO] Using the following BDNS content for http://localhost:18436: {\n  default: {\n    replicas: [],\n    notifications: [ 'http://localhost:18436' ],\n    brickStorages: [ 'http://localhost:18436' ],\n    anchoringServices: [ 'http://localhost:18436' ],\n    contractServices: [ 'http://localhost:18436' ],\n    validators: []\n  },\n  test1: {\n    replicas: [],\n    notifications: [ 'http://localhost:18436' ],\n    brickStorages: [ 'http://localhost:18436' ],\n    anchoringServices: [ 'http://localhost:18436' ],\n    contractServices: [ 'http://localhost:18436' ],\n    validators: []\n  },\n  test2: {\n    replicas: [],\n    notifications: [ 'http://localhost:18436' ],\n    brickStorages: [ 'http://localhost:18436' ],\n    anchoringServices: [ 'http://localhost:18436' ],\n    contractServices: [ 'http://localhost:18436' ],\n    validators: []\n  },\n  vault: {\n    replicas: [],\n    notifications: [ 'http://localhost:18436' ],\n    brickStorages: [ 'http://localhost:18436' ],\n    anchoringServices: [ 'http://localhost:18436' ],\n    contractServices: [ 'http://localhost:18436' ],\n    validators: []\n  }\n}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering894Xq1OjD/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:18436\"],\"brickStorages\":[\"http://localhost:18436\"],\"anchoringServices\":[\"http://localhost:18436\"],\"contractServices\":[\"http://localhost:18436\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering894Xq1OjD/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:18436\"],\"brickStorages\":[\"http://localhost:18436\"],\"anchoringServices\":[\"http://localhost:18436\"],\"contractServices\":[\"http://localhost:18436\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering894Xq1OjD/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:18436\"],\"brickStorages\":[\"http://localhost:18436\"],\"anchoringServices\":[\"http://localhost:18436\"],\"contractServices\":[\"http://localhost:18436\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering894Xq1OjD/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:18436\"],\"brickStorages\":[\"http://localhost:18436\"],\"anchoringServices\":[\"http://localhost:18436\"],\"contractServices\":[\"http://localhost:18436\"],\"validators\":[]}\n","[TIR][INFO] Starting apihub instance... [ 18436, '/tmp/enclaveBuffering894Xq1OjD' ]\n","Fix this: This could generate memory leaks. Fix it later\n","Trying to read the apihub.json file from the location pointed by PSK_CONFIG_LOCATION env variable.\n","Loading config for domain 'default'\n","Loading config for domain 'test1'\n","Loading config for domain 'test2'\n","Loading config for domain 'vault'\n","[API-HUB] Trying to listen on port 18436\n","Registering Logger middleware\n","[API-HUB] generic error middleware was loaded. This middleware will prevent any error to leak when sending a >=400 response to the client.\n","[API-HUB] Request API enhancements were set up.\n","Registering IframeHandler middleware\n","Using boot script for worker: /home/runner/work/epi-workspace/epi-workspace/privatesky/./psknode/bundles/nodeBoot.js\n","[API-HUB] Preparing to register middleware from path ./components/config\n","[API-HUB] Not able to find config for component called < bricksLedger >. Excluding it from the active components list!\n","[API-HUB] Preparing to register middleware from path ./components/bdns\n","[API-HUB] Preparing to register middleware from path ./components/bricksFabric\n","[API-HUB] Preparing to register middleware from path ./components/bricking\n","[API-HUB] Preparing to register middleware from path ./components/anchoring\n","[API-HUB] Preparing to register middleware from path /home/runner/work/epi-workspace/epi-workspace/epi-utils/\n","[API-HUB] Preparing to register middleware from path /home/runner/work/epi-workspace/epi-workspace/epi-utils/\n","127.0.0.1:18436 - [2022-03-16T01:01:05.814Z] GET:/bdns 200 2.873ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.838Z] PUT:/bricking/default/put-brick 201 5.342ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.859Z] PUT:/bricking/default/put-brick 201 1.453ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.874Z] GET:/anchor/default/get-last-version/4K8K3xZfdsFugXRpFp9wP8ZEsPBV5ZqNAACKQnLYxVXD4qrzyFfr8JK78hFceTJhqX9xwmrytBVXwMsyy6NL8UjtCKFxLSZNu7zjo1aebiVTfxB7vjiaTDU9bnACSQzfPdmprj5CJoscz1cxUVFD 200 2.793ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.884Z] PUT:/anchor/default/create-anchor/4K8K3xZfdsFugXRpFp9wP8ZEsPBV5ZqNAACKQnLYxVXD4qrzyFfr8JK78hFceTJhqX9xwmrytBVXwMsyy6NL8UjtCKFxLSZNu7zjo1aebiVTfxB7vjiaTDU9bnACSQzfPdmprj5CJoscz1cxUVFD/2kN5BVDCiWjeFSDq39V8W6uMtV8PwNEGJH1NyEZNQ3M7owg9N1UcaAdzvcHSo7o43Ptu14zrsiiXkPobiMbqHJSHDxsjWivao4iLoqVGgLLnsbmnS2GL8cayd4t5Z57B4NwcVLX3eAtA3QU1rwzk6gybqbvy6trTZ7kz4jYotPWpYSVEkw4p9Xh2UgYm9ZZnk84aU3CHF8n84WqrYV2VscdZZnHbxeuvsR 201 3.919ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.894Z] PUT:/bricking/default/put-brick 201 1.408ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.900Z] PUT:/bricking/default/put-brick 201 1.342ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.908Z] GET:/anchor/default/get-last-version/4K8K3xZfdsFugXRpFp9wP8ZEsQQkh2erEVo3JdQ5W5rexjvy5DNiSo2LiUi34KL5zg23bojrgVJgTQm8xyHmiXtQKeSz9QFtDSUgs3VuqzuGd8533vJoU84AX11KnGFn1eKQzRetTYAiYEh2z73m 200 1.651ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.917Z] PUT:/anchor/default/create-anchor/4K8K3xZfdsFugXRpFp9wP8ZEsQQkh2erEVo3JdQ5W5rexjvy5DNiSo2LiUi34KL5zg23bojrgVJgTQm8xyHmiXtQKeSz9QFtDSUgs3VuqzuGd8533vJoU84AX11KnGFn1eKQzRetTYAiYEh2z73m/8iQ1THWriEFDQiKd2UTA7Sv1VE1aJZaDztTz3S19jSir7noy3r2Q9yRrZZaSGrYJCB11Gjxd4MwBVfXWtx1pUVU6RhaaHiAmsTX9EoHFKc3VTuNoAdyDrhDA7kfpQeZZyh2F1bW3SBRPGNVk4uQqdGxaPykdq33PrD1uvo4Lbrp7iXyP7kZRnhbSFdu6ce7Zwq4jLfH9JJSuod9ZoBxuVGSx4BtiFgxbQHu 201 3.271ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.931Z] PUT:/bricking/default/put-brick 201 1.287ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.937Z] PUT:/bricking/default/put-brick 201 1.35ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.944Z] GET:/anchor/default/get-all-versions/4K8K3xZfdsFugXRpFp9wP8ZEsQQkh2erEVo3JdQ5W5rexjvy5DNiSo2LiUi34KL5zg23bojrgVJgTQm8xyHmiXtQKeSz9QFtDSUgs3VuqzuGd8533vJoU84AX11KnGFn1eKQzRetTYAiYEh2z73m 200 4.657ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.953Z] PUT:/anchor/default/append-to-anchor/4K8K3xZfdsFugXRpFp9wP8ZEsQQkh2erEVo3JdQ5W5rexjvy5DNiSo2LiUi34KL5zg23bojrgVJgTQm8xyHmiXtQKeSz9QFtDSUgs3VuqzuGd8533vJoU84AX11KnGFn1eKQzRetTYAiYEh2z73m/8iQ1THWriEFDQiKd2UTA7Sv7zX9L2U1p6ySytTu17EoqzUQjHgVfTeroQ3U7GNDzfuuZSz2FDvN5ZBWBquu9RHHkRczE9A5LtbWruubAGZaF6i4eq1rnq2uDLL6q5nxoUZffnez5qypjj1SSqVLAEMj5p75wXpYzWBA5QrfS1ZUNntK3XXBZ3enEsWeVgLwnDLgjCygz87JFo4XfWKL219edYCxVfeF8KYB 201 4.233ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.964Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.574ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.973Z] PUT:/bricking/vault/put-brick 201 1.506ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.979Z] PUT:/bricking/vault/put-brick 201 1.252ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.986Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8ioqrYaYWQNkN5kSmqpGs3UBX7QRA5nZMPhzS4j3aeEyjErAbqYJ5kPhDCssa2HSunyBxYUddh8VyjALwKQ8zRvXTf1qFxbzcMdqBytmLeKhYi1ppZhwMJpyDvvq4j 200 1.538ms\n","127.0.0.1:18436 - [2022-03-16T01:01:05.992Z] PUT:/anchor/vault/create-anchor/ArzZh8TxNMevR6QanDX8ioqrYaYWQNkN5kSmqpGs3UBX7QRA5nZMPhzS4j3aeEyjErAbqYJ5kPhDCssa2HSunyBxYUddh8VyjALwKQ8zRvXTf1qFxbzcMdqBytmLeKhYi1ppZhwMJpyDvvq4j/PxygXrtbKyLQ522BXWKxVcgzahx3cRkAma2WjJeBSmrw5Ja533Qur4wNuCJxzL8Q8mbxgQgs2eRLpJNWkgrzrgvETo46ozNEqYNauJG9C6Y437EbTprBAma6JJrNZ5QaPTAJG9wnPb4CZ58xfnqYK3rRaetwbo8MrhRhpDpZjTbnnHajKkTdb2YrYKkh6ZST9okmzBA29vBmLv77Qvcg4vzyob8FgxGw 201 3.281ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.003Z] PUT:/bricking/vault/put-brick 201 1.323ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.010Z] PUT:/bricking/vault/put-brick 201 10.308ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.023Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.452ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.029Z] PUT:/anchor/vault/create-anchor/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd/2ZJYQfUMTmozJapVdoF5n4yyTWfscBPP59H2aF63oWdHwj7ptPAeadiFQ5ZAJeaBEfKJy23bHU79zZjN7X9h 201 1.551ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.034Z] PUT:/bricking/vault/put-brick 201 1.12ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.040Z] PUT:/bricking/vault/put-brick 201 1.106ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.047Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8ioqrYaYWQNkN5kSmqpGs3UBX7QRA5nZMPhzS4j3aeEyjErAbqYJ5kPhDCssa2HSunyBxYUddh8VyjALwKQ8zRvXTf1qFxbzcMdqBytmLeKhYi1ppZhwMJpyDvvq4j 200 3.297ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.054Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8ioqrYaYWQNkN5kSmqpGs3UBX7QRA5nZMPhzS4j3aeEyjErAbqYJ5kPhDCssa2HSunyBxYUddh8VyjALwKQ8zRvXTf1qFxbzcMdqBytmLeKhYi1ppZhwMJpyDvvq4j/PxygXrtbKyLQ522BXWKvSDa7moiR4vGRzRf34KNFxwXx9qxNnyYuEYfqbXtXSu847qbb7Jby4i8GXWsRPjmTMjKiVTQJcAKpV7hzsBX4fEYZJdF2rJWebQVUGuk9n7z5zBDmgKe3DQt6JAbh9PY1UdWUvnXCaunPmjxFRqZwyCBjZQQHkLZY8an5zUAE5NU6Zq4PsfrfJ8f7mpieYQqaaLpHD16YyYzT 201 5.909ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.062Z] GET:/bricking/vault/get-brick/9orCaNGdkRa2FAAvoBqckQQFkEuZvMXXVN4ieoc3xKQR 200 1.391ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.069Z] PUT:/bricking/vault/put-brick 201 1.239ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.074Z] PUT:/bricking/vault/put-brick 201 1.115ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.081Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8iopk4pXGWCQGMvdtDH2KzcKCay9KpyqbhhpDLT45eNF14UjWcuUbvgN1nd2qv3Jesq6sia5acdifW1a5NbRx8drtK54Da9Qs5YyXW9GaTW8GpAw5kWmqiogruLVCj 200 1.302ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.086Z] PUT:/anchor/vault/create-anchor/ArzZh8TxNMevR6QanDX8iopk4pXGWCQGMvdtDH2KzcKCay9KpyqbhhpDLT45eNF14UjWcuUbvgN1nd2qv3Jesq6sia5acdifW1a5NbRx8drtK54Da9Qs5YyXW9GaTW8GpAw5kWmqiogruLVCj/PxygXrtbKyLQ522BXWKxWvGvT5jHrSPgBrsCjxVJXPxLeqUNPedyc4k5EDXKxdHYg3o4YxFwvweoFjK1RbxQZ6vGKWUGxDT8xXpaYb1MuiQVKXh8uJhvM7i6GUVZFv93S7H2SrUfmU4bLWvufSXCcKupWj2tyLLBb59diVyHThDu8h5Qm6ueGrJeBYrfWFuvFxQGnmFhseckcptGRMQMk9uZRZpawUGX 201 2.899ms\n","The function \"getWalletDB is obsolete. Use getSimpleWalletDB instead\n","127.0.0.1:18436 - [2022-03-16T01:01:06.097Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8iopk4pXGWCQGMvdtDH2KzcKCay9KpyqbhhpDLT45eNF14UjWcuUbvgN1nd2qv3Jesq6sia5acdifW1a5NbRx8drtK54Da9Qs5YyXW9GaTW8GpAw5kWmqiogruLVCj 200 1.954ms\n",">>> No observers found for event type initialised\n","Finishing initialisation\n",">>> No observers found for event type warn\n",">>> Loading a shared database\n","127.0.0.1:18436 - [2022-03-16T01:01:06.105Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 2.662ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.110Z] PUT:/bricking/vault/put-brick 201 1.113ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.115Z] PUT:/bricking/vault/put-brick 201 1.128ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.122Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8ioqrYaYWQNkN5kSmqpGs3UBX7QRA5nZMPhzS4j3aeEyjErAbqYJ5kPhDCssa2HSunyBxYUddh8VyjALwKQ8zRvXTf1qFxbzcMdqBytmLeKhYi1ppZhwMJpyDvvq4j 200 4.303ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.130Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8ioqrYaYWQNkN5kSmqpGs3UBX7QRA5nZMPhzS4j3aeEyjErAbqYJ5kPhDCssa2HSunyBxYUddh8VyjALwKQ8zRvXTf1qFxbzcMdqBytmLeKhYi1ppZhwMJpyDvvq4j/PxygXrtbKyLQ522BXWKveSU3cAADvfa9AzS9suzBP9KWi2srBEZqiBuzgVFPXZgig5JeqcEg8MAL7Ya6XQGbMVZ3tRMETZkQtreefyVvFrqfsXKVTQmmYq3qFpbuQMLLSmXC7MTg8Vv6AAVyRqzTYTatfJVqHPupHDzJCZuxR4rw1zYg7ojQEdxEUXHPocMbCZEFSxQV6aX1tLZsi3gWwhriN27R1pt7 201 3.799ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.137Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.678ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.140Z] GET:/bricking/vault/get-brick/AsBGFbFp8XRDn1AEiTRVYdE4WLzM2GWjWc3kB9uJ1fki 200 1.131ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.145Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 8.184ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.164Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 3.474ms\n",">>> No observers found for event type initialised\n",">>> No observers found for event type initialised\n","127.0.0.1:18436 - [2022-03-16T01:01:06.172Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 3.121ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.179Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.531ms\n","The function \"getWalletDB is obsolete. Use getSimpleWalletDB instead\n","127.0.0.1:18436 - [2022-03-16T01:01:06.188Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8iopk4pXGWCQGMvdtDH2KzcKCay9KpyqbhhpDLT45eNF14UjWcuUbvgN1nd2qv3Jesq6sia5acdifW1a5NbRx8drtK54Da9Qs5YyXW9GaTW8GpAw5kWmqiogruLVCj 200 3.027ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.189Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 2.156ms\n",">>> No observers found for event type initialised\n","Finishing initialisation\n",">>> No observers found for event type warn\n",">>> Loading a shared database\n","127.0.0.1:18436 - [2022-03-16T01:01:06.195Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.545ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.199Z] PUT:/bricking/vault/put-brick 201 1.163ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.204Z] PUT:/bricking/vault/put-brick 201 1.099ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.211Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8ioqrYaYWQNkN5kSmqpGs3UBX7QRA5nZMPhzS4j3aeEyjErAbqYJ5kPhDCssa2HSunyBxYUddh8VyjALwKQ8zRvXTf1qFxbzcMdqBytmLeKhYi1ppZhwMJpyDvvq4j 200 5.843ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.221Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8ioqrYaYWQNkN5kSmqpGs3UBX7QRA5nZMPhzS4j3aeEyjErAbqYJ5kPhDCssa2HSunyBxYUddh8VyjALwKQ8zRvXTf1qFxbzcMdqBytmLeKhYi1ppZhwMJpyDvvq4j/PxygXrtbKyLQ522BXWKxWkpndLPLfo5GhrbbeG6XsmA7CxGELqcqgbWGAPNKT5tZg4MkZ2RnfT4uDsH9Xh8zcXocKiVGCtBZ7LznuKQFna8FmfK7NppbBgLTa5LfdqKUqp5wJup88z3rBTKqeGuwko8B3vb15kouxEwXpXHnMAoVvDDVyTbS7RLZ4hhnsUSLrmeDTe7nJcwLA9V9T5XYCnrvnFpUKGUP 201 4.202ms\n","Function already promisified\n","EPI Mapping Engine called for domain:  default, and walletSSI : BBudGH6ySHG6GUHN8ogNrTWc6sY8EKgtbuSs8NbVU6faM6ZwbMRsNDSa4JXoFC4VPfW5KaPpCXctab1bBP2mvrkeB\n","[API-HUB] apihub.getServerConfig() method is deprecated, please use server.config.getDomainConfig(...) to retrieve necessary info.\n","127.0.0.1:18436 - [2022-03-16T01:01:06.282Z] GET:/anchor/default/get-last-version/4K8K3xZfdsFugXRpFp9wP8ZEsQQkh2erEVo3JdQ5W5rexjvy5DNiSo2LiUi34KL5zg23bojrgVJgTQm8xyHmiXtQKeSz9QFtDSUgs3VuqzuGd8533vJoU84AX11KnGFn1eKQzRetTYAiYEh2z73m 200 2.187ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.286Z] GET:/bricking/default/get-brick/6DyXgiRDSRdnDasmrXaFkkzs5u9fv5WVX5CdUBdcvZp1 200 1.265ms\n","[MAPPING ENGINE]: 2 new messages arrived. Processing...\n","New GTIN_SSI in domain:default and bricksDomain:default\n","Unable to find a suitable mapping to handle the following message: {\"messageType\":\"Product Wrong message type\",\"messageTypeVersion\":0.1,\"senderId\":\"endpoint\",\"receiverId\":\"\",\"messageId\":\"7985068\",\"messageDateTime\":\"2022-02-16T13:25:58.633Z\",\"token\":\"\",\"product\":{\"inventedName\":\"test\",\"productCode\":\"61131938350089\",\"nameMedicinalProduct\":\"tst 40 mg\",\"manufName\":\"\",\"adverseEventReportingURL\":\"http://localhost:8080/borest/scan\",\"acfProductCheckURL\":\"http://localhost:8080/borest/scan\",\"flagEnableAdverseEventReporting\":true,\"flagEnableACFProductCheck\":true,\"flagDisplayEPI_BatchRecalled\":false,\"flagDisplayEPI_SNRecalled\":false,\"flagDisplayEPI_SNDecommissioned\":false,\"flagDisplayEPI_SNUnknown\":false,\"flagDisplayEPI_EXPIncorrect\":false,\"flagDisplayEPI_BatchExpired\":true,\"healthcarePractitionerInfo\":\"SmPC\",\"patientSpecificLeaflet\":\"Patient Information\",\"markets\":[{\"marketId\":\"PT\",\"nationalCode\":\"PRT\",\"mahName\":\"MAH name\",\"legalEntityName\":\"Legal name\"}],\"internalMaterialCode\":\"\",\"strength\":\"\",\"flagDisplayEPI_BatchNumberUnknown\":true}}\n","127.0.0.1:18436 - [2022-03-16T01:01:06.233Z] PUT:/mappingEngine/default/default 200 67.383ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.303Z] GET:/anchor/default/get-last-version/3JstiXLNpRW3C5xu4UNNE75aDSaDjn7EJzc9kgsSZNyGGkuKQhPMEQUapCthPjB72rYKpDFwVcMboPvC21j2V3Wf 200 1.244ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.302Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 5.469ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.307Z] GET:/anchor/default/get-last-version/3JstiXLNpRW3C5xu4UNNE75aDSaDjn7EJzc9kgsSZNyGGkuKQhPMEQUapCthPjB72rYKpDFwVcMboPvC21j2V3Wf 200 1.214ms\n",">>> No observers found for event type change\n",">>> No observers found for event type change\n",">>> No observers found for event type change\n",">>> No observers found for event type change\n","127.0.0.1:18436 - [2022-03-16T01:01:06.319Z] GET:/bricking/vault/get-brick/CroEJLWdMV3pZrmV6W4xw4oMsXCk2cbW5WNZcYtegMmB 200 1.938ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.320Z] PUT:/bricking/default/put-brick 201 1.361ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.330Z] PUT:/bricking/vault/put-brick 201 4.293ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.330Z] PUT:/bricking/default/put-brick 201 3.854ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.346Z] GET:/anchor/default/get-last-version/4K8K3xZfdsFugXRpFp9wP8ZEsQjRnwRjVBqD5Sm4jLg9xx7We7KY4SVtR2YGCZ2prWRZeYe9oshK29s7qj7JECGenucvovwLL6TcMPMPYCdpyGFHrKZVoUgyGZ8Jfs5hkXFDiLpVfSz1VWkYuk5D 200 2.672ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.345Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8ioqrYaYWQNkN5kSmqpGs3UBX7QRA5nZMPhzS4j3aeEyjErAbqYJ5kPhDCssa2HSunyBxYUddh8VyjALwKQ8zRvXTf1qFxbzcMdqBytmLeKhYi1ppZhwMJpyDvvq4j 200 16.846ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.362Z] PUT:/anchor/default/create-anchor/4K8K3xZfdsFugXRpFp9wP8ZEsQjRnwRjVBqD5Sm4jLg9xx7We7KY4SVtR2YGCZ2prWRZeYe9oshK29s7qj7JECGenucvovwLL6TcMPMPYCdpyGFHrKZVoUgyGZ8Jfs5hkXFDiLpVfSz1VWkYuk5D/8iQ1THWriEFDQiKd2UTA7SuemsPHdHtjZvKtXnXztubvao88CHqfrmMgR1JSfhoY66xhcxYWAtHfseYT7cRp5zurCX1nkUu9uKhHjZN6AULhddu229hHcawpCGAzm5bbJB9dHmvrUxR9vQGJNYW9vrMYGHM6AQMAgLbqjZEZqBxm9ZAqoGMRh1TG4QSJja4kHnAzxB1KzMMFryXJfSSkY22SWPM4c671DbD 201 8.154ms\n","Failed to load JSON due to  Path </product.json> not found.\n","127.0.0.1:18436 - [2022-03-16T01:01:06.371Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8ioqrYaYWQNkN5kSmqpGs3UBX7QRA5nZMPhzS4j3aeEyjErAbqYJ5kPhDCssa2HSunyBxYUddh8VyjALwKQ8zRvXTf1qFxbzcMdqBytmLeKhYi1ppZhwMJpyDvvq4j/PxygXrtbKyLQ522BXWKv4N3shEuKkqQgCdNDzmagQqbgMbC3umtaWQECeR9Vejvj8HWiHc4w9HuUpAUm5Qh2QoSRECMJwYpzxoCPPK7q3AgVsubRb649jQtKxhPUyYCVwn2dMQeiYcMEbNuXmZB4AvVDJ5Segv4gKdXYvuyGFMRwwYHvn9ZStr4iRWcMze3Ka7Tfb2b6wXUHWWQAcFkFSAiBUsMCMXxs 201 9.263ms\n","127.0.0.1:18436 - [2022-03-16T01:01:06.376Z] PUT:/bricking/default/put-brick 201 4.031ms\n",{"level":0,"message":"double-check has intercepted an unhandledRejection event","stack":"TypeError: Cannot read property 'toString' of undefined\n    at Object.promisify (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:56620:45)\n    at /home/runner/work/epi-workspace/epi-workspace/epi-utils/build/bundles/epiUtils.js:1677:16\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"},"Test should fail because: Unhandled Rejection! TypeError: Cannot read property 'toString' of undefined\n    at Object.promisify (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:56620:45)\n    at /home/runner/work/epi-workspace/epi-workspace/epi-utils/build/bundles/epiUtils.js:1677:16\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n","127.0.0.1:18436 - [2022-03-16T01:01:06.386Z] PUT:/bricking/default/put-brick 201 1.185ms\n","EPI Mapping Engine get called for domain:  default\n","No logs found for domain -  default\n","127.0.0.1:18436 - [2022-03-16T01:01:08.302Z] GET:/mappingEngine/default/logs 500 1.421ms\n","Request logs:\n","\t Generic Error Middleware prevented message to be sent on response.end {\"result\":\"Error\",\"message\":\"No logs\"}\n","\n\n","No results to parse, trying again ...\n","Process finished with errors!","Exit code: 1 Signal: null"]},"items":null},{"__meta":{"conf":{"runs":1},"parent":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests","isDirectory":false},"data":{"name":"leafletUploadLocalTest.js","path":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests/leafletUploadLocalTest.js"},"result":{"state":"finished","pass":false,"executionTime":0,"runs":0,"asserts":[],"messages":["Logger not available, using console\n","Redefining require for node\n","VirtualMQ running in test environment\n","Logger not available, using console\n","Redefining require for node\n","VirtualMQ running in test environment\n","[TIR][INFO] Using the following options for launcher {\n  domains: [\n    { name: 'default', config: [Object] },\n    'test1',\n    'test2',\n    { name: 'vault', config: [Object] }\n  ],\n  serverConfig: {\n    activeComponents: [\n      'bdns',\n      'bricksLedger',\n      'bricksFabric',\n      'bricking',\n      'anchoring',\n      'epi-mapping-engine-results',\n      'mq'\n    ],\n    componentsConfig: { 'epi-mapping-engine-results': [Object] }\n  },\n  rootFolder: '/tmp/enclaveBuffering982YQUT5E',\n  maxTries: 100,\n  bdns: null,\n  validatorDID: null,\n  validators: null,\n  useWorker: false,\n  bricksLedgerConfig: null,\n  includeDefaultDomains: true,\n  contractBuildFilePath: null,\n  generateValidatorDID: false,\n  onPortAquired: null,\n  onBeforeServerStart: null,\n  storageFolder: '/tmp/enclaveBuffering982YQUT5E/external-volume'\n}\n","[TIR][INFO] Generated random port 22882\n","[TIR][INFO] TIR is checking if port 22882 is available. Please wait...\n","[TIR][INFO] Port 22882 is available\n","[TIR][INFO] Storing file 'apihub.json' at /tmp/enclaveBuffering982YQUT5E/external-volume/config... {\"activeComponents\":[\"bdns\",\"bricksLedger\",\"bricksFabric\",\"bricking\",\"anchoring\",\"epi-mapping-engine-results\",\"mq\"],\"componentsConfig\":{\"epi-mapping-engine-results\":{\"module\":\"/home/runner/work/epi-workspace/epi-workspace/epi-utils/\",\"function\":\"getEPIMappingEngineMessageResults\"}},\"host\":\"localhost\",\"port\":22882}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering982YQUT5E/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{\"enableBricksLedger\":false},\"commands\":{\"addAnchor\":\"anchor\"}},\"enable\":[\"mq\",\"enclave\"]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering982YQUT5E/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering982YQUT5E/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering982YQUT5E/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{}},\"enable\":[\"mq\"]}\n","[TIR][INFO] Using the following BDNS content for http://localhost:22882: {\n  default: {\n    replicas: [],\n    notifications: [ 'http://localhost:22882' ],\n    brickStorages: [ 'http://localhost:22882' ],\n    anchoringServices: [ 'http://localhost:22882' ],\n    contractServices: [ 'http://localhost:22882' ],\n    validators: []\n  },\n  test1: {\n    replicas: [],\n    notifications: [ 'http://localhost:22882' ],\n    brickStorages: [ 'http://localhost:22882' ],\n    anchoringServices: [ 'http://localhost:22882' ],\n    contractServices: [ 'http://localhost:22882' ],\n    validators: []\n  },\n  test2: {\n    replicas: [],\n    notifications: [ 'http://localhost:22882' ],\n    brickStorages: [ 'http://localhost:22882' ],\n    anchoringServices: [ 'http://localhost:22882' ],\n    contractServices: [ 'http://localhost:22882' ],\n    validators: []\n  },\n  vault: {\n    replicas: [],\n    notifications: [ 'http://localhost:22882' ],\n    brickStorages: [ 'http://localhost:22882' ],\n    anchoringServices: [ 'http://localhost:22882' ],\n    contractServices: [ 'http://localhost:22882' ],\n    validators: []\n  }\n}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering982YQUT5E/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:22882\"],\"brickStorages\":[\"http://localhost:22882\"],\"anchoringServices\":[\"http://localhost:22882\"],\"contractServices\":[\"http://localhost:22882\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering982YQUT5E/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:22882\"],\"brickStorages\":[\"http://localhost:22882\"],\"anchoringServices\":[\"http://localhost:22882\"],\"contractServices\":[\"http://localhost:22882\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering982YQUT5E/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:22882\"],\"brickStorages\":[\"http://localhost:22882\"],\"anchoringServices\":[\"http://localhost:22882\"],\"contractServices\":[\"http://localhost:22882\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering982YQUT5E/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:22882\"],\"brickStorages\":[\"http://localhost:22882\"],\"anchoringServices\":[\"http://localhost:22882\"],\"contractServices\":[\"http://localhost:22882\"],\"validators\":[]}\n","[TIR][INFO] Starting apihub instance... [ 22882, '/tmp/enclaveBuffering982YQUT5E' ]\n","Fix this: This could generate memory leaks. Fix it later\n","Trying to read the apihub.json file from the location pointed by PSK_CONFIG_LOCATION env variable.\n","Loading config for domain 'default'\n","Loading config for domain 'test1'\n","Loading config for domain 'test2'\n","Loading config for domain 'vault'\n","[API-HUB] Trying to listen on port 22882\n","Registering Logger middleware\n","[API-HUB] generic error middleware was loaded. This middleware will prevent any error to leak when sending a >=400 response to the client.\n[API-HUB] Request API enhancements were set up.\n","Registering IframeHandler middleware\n","Using boot script for worker: /home/runner/work/epi-workspace/epi-workspace/privatesky/./psknode/bundles/nodeBoot.js\n","[API-HUB] Preparing to register middleware from path ./components/config\n","[API-HUB] Not able to find config for component called < bricksLedger >. Excluding it from the active components list!\n","[API-HUB] Preparing to register middleware from path ./components/bdns\n","[API-HUB] Preparing to register middleware from path ./components/bricksFabric\n","[API-HUB] Preparing to register middleware from path ./components/bricking\n","[API-HUB] Preparing to register middleware from path ./components/anchoring\n","[API-HUB] Preparing to register middleware from path /home/runner/work/epi-workspace/epi-workspace/epi-utils/\n","[API-HUB] Preparing to register middleware from path ./components/mqHub\n","Preparing to register mq endpoints for domain < default > ... \n","Loading Local MQ Adapter for domain: default\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\nWarning: Local MQ Adapter should be used only during development!\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\nSuccessfully register mq endpoints for domain < default >.\nPreparing to register mq endpoints for domain < vault > ... \n","Loading Local MQ Adapter for domain: vault\n","!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\nWarning: Local MQ Adapter should be used only during development!\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\nSuccessfully register mq endpoints for domain < vault >.\n","[TIR][INFO] Using the following options for launcher {\n  domains: [\n    { name: 'default', config: [Object] },\n    'test1',\n    'test2',\n    { name: 'vault', config: [Object] }\n  ],\n  serverConfig: {\n    activeComponents: [\n      'bdns',\n      'bricksLedger',\n      'bricksFabric',\n      'bricking',\n      'anchoring',\n      'epi-mapping-engine',\n      'epi-mapping-engine-results'\n    ],\n    componentsConfig: {\n      'epi-mapping-engine': [Object],\n      'epi-mapping-engine-results': [Object]\n    }\n  },\n  rootFolder: '/tmp/enclaveBuffering861zyDco9',\n  maxTries: 100,\n  bdns: null,\n  validatorDID: null,\n  validators: null,\n  useWorker: false,\n  bricksLedgerConfig: null,\n  includeDefaultDomains: true,\n  contractBuildFilePath: null,\n  generateValidatorDID: false,\n  onPortAquired: null,\n  onBeforeServerStart: null,\n  storageFolder: '/tmp/enclaveBuffering861zyDco9/external-volume'\n}\n","[TIR][INFO] Generated random port 63141\n","[TIR][INFO] TIR is checking if port 63141 is available. Please wait...\n","[TIR][INFO] Port 63141 is available\n","[TIR][INFO] Storing file 'apihub.json' at /tmp/enclaveBuffering861zyDco9/external-volume/config... {\"activeComponents\":[\"bdns\",\"bricksLedger\",\"bricksFabric\",\"bricking\",\"anchoring\",\"epi-mapping-engine\",\"epi-mapping-engine-results\"],\"componentsConfig\":{\"epi-mapping-engine\":{\"module\":\"/home/runner/work/epi-workspace/epi-workspace/epi-utils/\",\"function\":\"getEPIMappingEngineForAPIHUB\"},\"epi-mapping-engine-results\":{\"module\":\"/home/runner/work/epi-workspace/epi-workspace/epi-utils/\",\"function\":\"getEPIMappingEngineMessageResults\"}},\"host\":\"localhost\",\"port\":63141}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering861zyDco9/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{\"enableBricksLedger\":false},\"commands\":{\"addAnchor\":\"anchor\"}},\"messagesEndPoints\":[{\"endPointId\":\"endpoint\",\"endPointURL\":\"http://localhost:22882/mappingEngine/default/default/saveResult\"}]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering861zyDco9/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering861zyDco9/external-volume/config/domains... {}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering861zyDco9/external-volume/config/domains... {\"anchoring\":{\"type\":\"FS\",\"option\":{}},\"enable\":[\"mq\"]}\n","[TIR][INFO] Using the following BDNS content for http://localhost:63141: {\n  default: {\n    replicas: [],\n    notifications: [ 'http://localhost:63141' ],\n    brickStorages: [ 'http://localhost:63141' ],\n    anchoringServices: [ 'http://localhost:63141' ],\n    contractServices: [ 'http://localhost:63141' ],\n    validators: []\n  },\n  test1: {\n    replicas: [],\n    notifications: [ 'http://localhost:63141' ],\n    brickStorages: [ 'http://localhost:63141' ],\n    anchoringServices: [ 'http://localhost:63141' ],\n    contractServices: [ 'http://localhost:63141' ],\n    validators: []\n  },\n  test2: {\n    replicas: [],\n    notifications: [ 'http://localhost:63141' ],\n    brickStorages: [ 'http://localhost:63141' ],\n    anchoringServices: [ 'http://localhost:63141' ],\n    contractServices: [ 'http://localhost:63141' ],\n    validators: []\n  },\n  vault: {\n    replicas: [],\n    notifications: [ 'http://localhost:63141' ],\n    brickStorages: [ 'http://localhost:63141' ],\n    anchoringServices: [ 'http://localhost:63141' ],\n    contractServices: [ 'http://localhost:63141' ],\n    validators: []\n  }\n}\n","[TIR][INFO] Storing file 'default.json' at /tmp/enclaveBuffering861zyDco9/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:63141\"],\"brickStorages\":[\"http://localhost:63141\"],\"anchoringServices\":[\"http://localhost:63141\"],\"contractServices\":[\"http://localhost:63141\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test1.json' at /tmp/enclaveBuffering861zyDco9/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:63141\"],\"brickStorages\":[\"http://localhost:63141\"],\"anchoringServices\":[\"http://localhost:63141\"],\"contractServices\":[\"http://localhost:63141\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'test2.json' at /tmp/enclaveBuffering861zyDco9/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:63141\"],\"brickStorages\":[\"http://localhost:63141\"],\"anchoringServices\":[\"http://localhost:63141\"],\"contractServices\":[\"http://localhost:63141\"],\"validators\":[]}\n","[TIR][INFO] Storing file 'vault.json' at /tmp/enclaveBuffering861zyDco9/external-volume/config/bdns... {\"replicas\":[],\"notifications\":[\"http://localhost:63141\"],\"brickStorages\":[\"http://localhost:63141\"],\"anchoringServices\":[\"http://localhost:63141\"],\"contractServices\":[\"http://localhost:63141\"],\"validators\":[]}\n","[TIR][INFO] Starting apihub instance... [ 63141, '/tmp/enclaveBuffering861zyDco9' ]\n","Fix this: This could generate memory leaks. Fix it later\n","Trying to read the apihub.json file from the location pointed by PSK_CONFIG_LOCATION env variable.\n","Loading config for domain 'default'\n","Loading config for domain 'test1'\n","Loading config for domain 'test2'\n","Loading config for domain 'vault'\n","[API-HUB] Trying to listen on port 63141\n","Registering Logger middleware\n","[API-HUB] generic error middleware was loaded. This middleware will prevent any error to leak when sending a >=400 response to the client.\n","[API-HUB] Request API enhancements were set up.\n","Registering IframeHandler middleware\n","Using boot script for worker: /home/runner/work/epi-workspace/epi-workspace/privatesky/./psknode/bundles/nodeBoot.js\n","[API-HUB] Preparing to register middleware from path ./components/config\n","[API-HUB] Not able to find config for component called < bricksLedger >. Excluding it from the active components list!\n","[API-HUB] Preparing to register middleware from path ./components/bdns\n","[API-HUB] Preparing to register middleware from path ./components/bricksFabric\n","[API-HUB] Preparing to register middleware from path ./components/bricking\n","[API-HUB] Preparing to register middleware from path ./components/anchoring\n","[API-HUB] Preparing to register middleware from path /home/runner/work/epi-workspace/epi-workspace/epi-utils/\n","[API-HUB] Preparing to register middleware from path /home/runner/work/epi-workspace/epi-workspace/epi-utils/\n","127.0.0.1:63141 - [2022-03-16T01:01:09.109Z] GET:/bdns 200 2.885ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.136Z] PUT:/bricking/default/put-brick 201 6.459ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.156Z] PUT:/bricking/default/put-brick 201 1.398ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.172Z] GET:/anchor/default/get-last-version/4K8K3xZfdsFugXRpFp9wP8ZEsPdJpdTYYTxRMiQVa6MGnamH4SmRBQrHpwT8SbKrujmL19wETB4oLaW5pRXFRD6yMMHhUUZzWUC59kDLDXJnaXmfd3arEHsaRvcMvpeW2jnP1v6AbMsJkYxNtMZy 200 2.858ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.186Z] PUT:/anchor/default/create-anchor/4K8K3xZfdsFugXRpFp9wP8ZEsPdJpdTYYTxRMiQVa6MGnamH4SmRBQrHpwT8SbKrujmL19wETB4oLaW5pRXFRD6yMMHhUUZzWUC59kDLDXJnaXmfd3arEHsaRvcMvpeW2jnP1v6AbMsJkYxNtMZy/8iQ1THWriEFDQiKd2UTA7SxCwpcP6KKFVgQDedLDh4y6jtSPJ9DYSarHpsjGME3RjBUYN98EGrPCMP5jzK29pX9poTGB77iehYNzzttPVjNEdDtjoNfzw2FGk7HJgX92BMwzmn4SgazC5crZVmUtq3jurFFbKR6UjfvRs53ngptKwUska6hMXRu5C2LxsCk5kTG4TjbuQJDr1YdqSMYJV1ubpa8PnceX3SX 201 3.985ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.196Z] PUT:/bricking/default/put-brick 201 4.109ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.207Z] PUT:/bricking/default/put-brick 201 2.051ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.220Z] GET:/anchor/default/get-last-version/4K8K3xZfdsFugXRpFp9wP8ZEsPo73VaEHKWeCaGKF5Zztu1qnd1aQmNzXHe84DZLPXPmm7rFVMH3Xo5iyNxTgwxzg4eABstiAMjKW6Cg3m7znyBNZxF31rBPEryzjENL69cXt5KzpmKLR7QJkJAT 200 1.563ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.227Z] PUT:/anchor/default/create-anchor/4K8K3xZfdsFugXRpFp9wP8ZEsPo73VaEHKWeCaGKF5Zztu1qnd1aQmNzXHe84DZLPXPmm7rFVMH3Xo5iyNxTgwxzg4eABstiAMjKW6Cg3m7znyBNZxF31rBPEryzjENL69cXt5KzpmKLR7QJkJAT/8iQ1THWriEFDQiKd2UTA7Sx5FZw2UuuCBstdGN8c3cxJi3cStTwo1zbLEZtLQcgMMGiApafAJWMtr5j3HWoVntsBUB12hUFv8LSw77evbFWohPRtvaiywmxjPTEF1ED1SDHc4R1Vp9F1E5t922eWppTupRCq8YZe4q5SqBdm96toQivJP1cQqWUndvpww4ciAhwWVzTPTYrQLKNzAqfPSqgd7UnH58QfvJb 201 3.303ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.241Z] PUT:/bricking/default/put-brick 201 1.23ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.247Z] PUT:/bricking/default/put-brick 201 1.284ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.255Z] GET:/anchor/default/get-all-versions/4K8K3xZfdsFugXRpFp9wP8ZEsPo73VaEHKWeCaGKF5Zztu1qnd1aQmNzXHe84DZLPXPmm7rFVMH3Xo5iyNxTgwxzg4eABstiAMjKW6Cg3m7znyBNZxF31rBPEryzjENL69cXt5KzpmKLR7QJkJAT 200 4.575ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.264Z] PUT:/anchor/default/append-to-anchor/4K8K3xZfdsFugXRpFp9wP8ZEsPo73VaEHKWeCaGKF5Zztu1qnd1aQmNzXHe84DZLPXPmm7rFVMH3Xo5iyNxTgwxzg4eABstiAMjKW6Cg3m7znyBNZxF31rBPEryzjENL69cXt5KzpmKLR7QJkJAT/8iQ1THWriEFDQiKd2UTA7Swrb3nwpzy4DrZxPL6cJvRJRnk5wiymoiChwF4qzhWPhapSBg7W6coGA6GD5UN2frVLTj6mfqGiyzSEQC6mqLW9WhLKBE2mW3g8mse1YVJytR3hDu9yZxzx2AXGt25cXvrCMXF44HSUmT59yJS5SEMPCZj1JvY7VsULSw3eTqq91DMHMNcTX3oRP1q2swjqeHDvj6DsYqZZVLs 201 4.213ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.274Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.501ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.285Z] PUT:/bricking/vault/put-brick 201 1.514ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.292Z] PUT:/bricking/vault/put-brick 201 1.206ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.299Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8iopugoQahZ5yAtUG4EEBSVvxZfLM3ZALYvCTe5A6N9kCnCGPzDqS4zy4W3crzNV57NHD52i37ku9Ha9j94gmf9nDLoFjGYTX3FnGxPcgJJvXTSzFx6G2UGxkDbNvB 200 1.689ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.305Z] PUT:/anchor/vault/create-anchor/ArzZh8TxNMevR6QanDX8iopugoQahZ5yAtUG4EEBSVvxZfLM3ZALYvCTe5A6N9kCnCGPzDqS4zy4W3crzNV57NHD52i37ku9Ha9j94gmf9nDLoFjGYTX3FnGxPcgJJvXTSzFx6G2UGxkDbNvB/PxygXrtbKyLQ522BXWKwkxV66gurGHN5g1xS7PZkYEPdTWawiixYUsHSQaCHCiHEZnLVMX1v6tdjGJHRkPJXjaHxxVqWG2iv4ppkHByHgeBVZouDhtPDuJoa33JEZwYa3XZWxRmHqq8JYuDeFMADayhDRFCFyE2Zmh9QQp9RCUD78Eghg9L2VsQMYTyHNCxynBzGZyp4NowtsEzJvM6fiFL5mSkWSpSK 201 3.261ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.324Z] PUT:/bricking/vault/put-brick 201 1.185ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.328Z] PUT:/bricking/vault/put-brick 201 1.346ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.332Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.199ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.335Z] PUT:/anchor/vault/create-anchor/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd/2ZJYQfUMTmozJapVdoEXuyAcq4gwiGF4rQfvNkM5v5js7NW6VCwor6cg24N76Br383R8SPTp8dw7T494JBKV 201 1.479ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.339Z] PUT:/bricking/vault/put-brick 201 1.137ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.344Z] PUT:/bricking/vault/put-brick 201 1.116ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.351Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8iopugoQahZ5yAtUG4EEBSVvxZfLM3ZALYvCTe5A6N9kCnCGPzDqS4zy4W3crzNV57NHD52i37ku9Ha9j94gmf9nDLoFjGYTX3FnGxPcgJJvXTSzFx6G2UGxkDbNvB 200 3.139ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.358Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8iopugoQahZ5yAtUG4EEBSVvxZfLM3ZALYvCTe5A6N9kCnCGPzDqS4zy4W3crzNV57NHD52i37ku9Ha9j94gmf9nDLoFjGYTX3FnGxPcgJJvXTSzFx6G2UGxkDbNvB/PxygXrtbKyLQ522BXWKvZJDu4uNGdLVzSYSsJE635DY4BghLGfrBx5jgCubeYV7gKrDYcAJUk3esXGSkYqm2K2QTPaqdVxmUbhf9727qYmHnnrDSARPBoj3S6Q4XbUfsQQiu9LMGUuYrSRm4UUk7znhXj15CYiy7Yiciwepv9ViQmAWRqUbVR3njcPux9FXeHPuFURugdPdxRjA9oPyFWK2msZa9d6jy 201 7.275ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.368Z] GET:/bricking/vault/get-brick/EPmKtj5H5XrjhLoY1fYowYJo37MKzpdGK1CYCnxiWb9Q 200 1.51ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.375Z] PUT:/bricking/vault/put-brick 201 1.204ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.380Z] PUT:/bricking/vault/put-brick 201 1.341ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.387Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8iopn5r7t9bYnaTfnTeu6akFjEvDSu48doXzwSNsbe2FPq6xM5UbLtNZCZ4eZ5KKyazta8dgrokx5XnDzrtPbBr8kocnSomSawL61Ekc5N1q4xwhpvfPT4gbyg6UrK 200 1.569ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.393Z] PUT:/anchor/vault/create-anchor/ArzZh8TxNMevR6QanDX8iopn5r7t9bYnaTfnTeu6akFjEvDSu48doXzwSNsbe2FPq6xM5UbLtNZCZ4eZ5KKyazta8dgrokx5XnDzrtPbBr8kocnSomSawL61Ekc5N1q4xwhpvfPT4gbyg6UrK/PxygXrtbKyLQ522BXWKvRMbyf6G3i9yVx4yryNFtEEcq1VQ581E77YyEeZmKJfgf4WbqoBqo4j8g5LFACUdULp1kfCMf3p87HztDgb9MFhFHqibCzXEysYQUZuYw5U4DCrsbCj5RcA8Ak3hWdaCds9vWH9EHjwr3qFNvSGEULmv7Pwyd42ZRzJ2m5xxmzNCjE6ctBzajkq2GJUvL1iJjmPyjCtm6Xgc7 201 4.881ms\n","The function \"getWalletDB is obsolete. Use getSimpleWalletDB instead\n","127.0.0.1:63141 - [2022-03-16T01:01:09.407Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8iopn5r7t9bYnaTfnTeu6akFjEvDSu48doXzwSNsbe2FPq6xM5UbLtNZCZ4eZ5KKyazta8dgrokx5XnDzrtPbBr8kocnSomSawL61Ekc5N1q4xwhpvfPT4gbyg6UrK 200 2.003ms\n",">>> No observers found for event type initialised\n","Finishing initialisation\n>>> No observers found for event type warn\n",">>> Loading a shared database\n","127.0.0.1:63141 - [2022-03-16T01:01:09.415Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.562ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.419Z] PUT:/bricking/vault/put-brick 201 1.125ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.424Z] PUT:/bricking/vault/put-brick 201 1.084ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.431Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8iopugoQahZ5yAtUG4EEBSVvxZfLM3ZALYvCTe5A6N9kCnCGPzDqS4zy4W3crzNV57NHD52i37ku9Ha9j94gmf9nDLoFjGYTX3FnGxPcgJJvXTSzFx6G2UGxkDbNvB 200 4.32ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.439Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8iopugoQahZ5yAtUG4EEBSVvxZfLM3ZALYvCTe5A6N9kCnCGPzDqS4zy4W3crzNV57NHD52i37ku9Ha9j94gmf9nDLoFjGYTX3FnGxPcgJJvXTSzFx6G2UGxkDbNvB/PxygXrtbKyLQ522BXWKxP7y4wYCZsZrXPpE1ZTjLAX5yHCbUFzxYHknZz8kr8MRjMKtQeBSRTLj2j6QUzsbFxhxYd7fqp5fgmaCiFzVEuEC1WXX9SQNQ8jC4h55zVY2JQXpwQWB84tDNUNEhdb8JVPmSruH748hjDz7B2B9YYwt3xZB2Hqka1iuoFSA6k613wKT6DGyNsFffhPLdbnzyaiw8iqi6y815 201 3.893ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.446Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.586ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.449Z] GET:/bricking/vault/get-brick/4Ct2RXid2fdb1bqe7uRQSrExztR7epKBb37Tp4fV5kMu 200 1.111ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.454Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 8.435ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.477Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 2.782ms\n",">>> No observers found for event type initialised\n",">>> No observers found for event type initialised\n","127.0.0.1:63141 - [2022-03-16T01:01:09.484Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.59ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.488Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.557ms\n","The function \"getWalletDB is obsolete. Use getSimpleWalletDB instead\n","127.0.0.1:63141 - [2022-03-16T01:01:09.497Z] GET:/anchor/vault/get-last-version/ArzZh8TxNMevR6QanDX8iopn5r7t9bYnaTfnTeu6akFjEvDSu48doXzwSNsbe2FPq6xM5UbLtNZCZ4eZ5KKyazta8dgrokx5XnDzrtPbBr8kocnSomSawL61Ekc5N1q4xwhpvfPT4gbyg6UrK 200 3.297ms\n",">>> No observers found for event type initialised\n","Finishing initialisation\n",">>> No observers found for event type warn\n>>> Loading a shared database\n","127.0.0.1:63141 - [2022-03-16T01:01:09.499Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 3.288ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.505Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.598ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.509Z] PUT:/bricking/vault/put-brick 201 1.119ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.514Z] PUT:/bricking/vault/put-brick 201 1.114ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.521Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8iopugoQahZ5yAtUG4EEBSVvxZfLM3ZALYvCTe5A6N9kCnCGPzDqS4zy4W3crzNV57NHD52i37ku9Ha9j94gmf9nDLoFjGYTX3FnGxPcgJJvXTSzFx6G2UGxkDbNvB 200 5.778ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.531Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8iopugoQahZ5yAtUG4EEBSVvxZfLM3ZALYvCTe5A6N9kCnCGPzDqS4zy4W3crzNV57NHD52i37ku9Ha9j94gmf9nDLoFjGYTX3FnGxPcgJJvXTSzFx6G2UGxkDbNvB/PxygXrtbKyLQ522BXWKxPYBm6719nXHAtDbX7z5ZX68bXd7AJBjPXdWAcgwdMczQR3LY6npwaUspsUS2YedGHzxBzUvix6aXwcdbmP9UYTjD6pZawvPzaiWEJzYE4Eu5XEn7vmj59tZ7U4X7cPGn9P2VChJqhYFw2A1ckizsCFVD1uJ6wWb2mHZVus3fp4BV4PMrRxXikrEM15cBsff15i6gpcQUC29u 201 4.163ms\n","Function already promisified\n","EPI Mapping Engine called for domain:  default, and walletSSI : BBudGH6ySHG6GUHN8ogNrTWb5bfmPJBFeaZekFLrZCxEAx5ednRwQowaEJf86iTa1n88JR8YAMjNejjWkEigUPVzP\n","[API-HUB] apihub.getServerConfig() method is deprecated, please use server.config.getDomainConfig(...) to retrieve necessary info.\n","127.0.0.1:63141 - [2022-03-16T01:01:09.897Z] GET:/anchor/default/get-last-version/4K8K3xZfdsFugXRpFp9wP8ZEsPo73VaEHKWeCaGKF5Zztu1qnd1aQmNzXHe84DZLPXPmm7rFVMH3Xo5iyNxTgwxzg4eABstiAMjKW6Cg3m7znyBNZxF31rBPEryzjENL69cXt5KzpmKLR7QJkJAT 200 2.404ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.902Z] GET:/bricking/default/get-brick/DjsAQsthAVf1jKfdSWhrMoyQ9XLUCpeB1jcBLwsJwE6L 200 1.192ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.892Z] PUT:/mappingEngine/default/default 200 19.038ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.912Z] GET:/anchor/vault/get-last-version/7saRdSm81FqYLzhW8xB5TD77WKFiQBZVgs9tEZZJhC17TY6ri7uah4pnnJaHuekp6VMS9L1cDuSJGefugmhfd 200 1.823ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.915Z] GET:/bricking/vault/get-brick/ADpbaZJwRUWouBfZuc3UKSaxPzPPR8F3b2W2KEctPvVy 200 1.071ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.921Z] PUT:/bricking/vault/put-brick 201 1.241ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.929Z] GET:/anchor/vault/get-all-versions/ArzZh8TxNMevR6QanDX8iopugoQahZ5yAtUG4EEBSVvxZfLM3ZALYvCTe5A6N9kCnCGPzDqS4zy4W3crzNV57NHD52i37ku9Ha9j94gmf9nDLoFjGYTX3FnGxPcgJJvXTSzFx6G2UGxkDbNvB 200 7.323ms\n","127.0.0.1:63141 - [2022-03-16T01:01:09.940Z] PUT:/anchor/vault/append-to-anchor/ArzZh8TxNMevR6QanDX8iopugoQahZ5yAtUG4EEBSVvxZfLM3ZALYvCTe5A6N9kCnCGPzDqS4zy4W3crzNV57NHD52i37ku9Ha9j94gmf9nDLoFjGYTX3FnGxPcgJJvXTSzFx6G2UGxkDbNvB/PxygXrtbKyLQ522BXWKx9mBvsbZF7nuBZXJt3E4rHiRYpWNCfHUYkzrH6NZpaMNjcNjctc6irKGUf3P41XizejoGph7Wb5KZR6oG6rBnXPinDstWLVNLkbGKJwpz11FB4iff9TkWi8sgh7JGpZQ1ukyGFz4BVyVhaHej3kNSCg7QFAbNqjHXSWtNUL9ztz5fuPr9SXQwvrP9TG89mMVjga5R2BS6xXo5 201 4.484ms\n",{"level":0,"message":"double-check has intercepted an unhandledRejection event","stack":"TypeError: Cannot read property 'toString' of undefined\n    at Object.promisify (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:56620:45)\n    at /home/runner/work/epi-workspace/epi-workspace/epi-utils/build/bundles/epiUtils.js:1677:16\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"},"Test should fail because: Unhandled Rejection! TypeError: Cannot read property 'toString' of undefined\n    at Object.promisify (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:56620:45)\n    at /home/runner/work/epi-workspace/epi-workspace/epi-utils/build/bundles/epiUtils.js:1677:16\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n","EPI Mapping Engine get called for domain:  default\n","No logs found for domain -  default\n","127.0.0.1:63141 - [2022-03-16T01:01:11.914Z] GET:/mappingEngine/default/logs 500 1.46ms\n","Request logs:\n","\t Generic Error Middleware prevented message to be sent on response.end {\"result\":\"Error\",\"message\":\"No logs\"}\n\n\n","No results to parse, trying again ...\n","Process finished with errors!","Exit code: 1 Signal: null"]},"items":null},{"__meta":{"conf":{"runs":1},"parent":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests","isDirectory":false},"data":{"name":"leafletUploadTest.js","path":"/home/runner/work/epi-workspace/epi-workspace/epi-utils/tests/leafletUploadTest.js"},"result":{"state":"finished","pass":false,"executionTime":0,"runs":0,"asserts":[{"level":1,"type":"assert","timestamp":1647392568666,"message":"[Fail] Assert or invariant has failed  expression is false but is expected to be true","stack":"Error: Assert or invariant has failed  expression is false but is expected to be true\n    at ExceptionsCore.assertFail (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:22821:21)\n    at AssertCore.true (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:22867:27)\n    at /home/runner/work/epi-workspace/epi-workspace/epi-utils/tests/leafletUploadTest.js:52:16\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)","exception":"Assert or invariant has failed  expression is false but is expected to be true"},{"level":11,"type":"assert","timestamp":1647392568668,"message":"[Pass] ApiHub leaflet upload performance test"}],"messages":["Logger not available, using console\n","Redefining require for node\n","VirtualMQ running in test environment\n","Function already promisified\n","Function already promisified\n","New GTIN_SSI in domain:epi and bricksDomain:default\n","Number of dsu leaflets is: 10\n","Error on put message  Error: Assert or invariant has failed  expression is false but is expected to be true\n    at ExceptionsCore.assertFail (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:22821:21)\n    at AssertCore.true (/home/runner/work/epi-workspace/epi-workspace/privatesky/psknode/bundles/testsRuntime.js:22867:27)\n    at /home/runner/work/epi-workspace/epi-workspace/epi-utils/tests/leafletUploadTest.js:52:16\n    at processTicksAndRejections (internal/process/task_queues.js:95:5) {\n  isFailedAssert: true\n}\n","Process finished with errors!","Exit code: 1 Signal: null"]},"items":null}],"startDate":1647392465008,"endDate":1647392570680,"runned":5});
</script>
</html>